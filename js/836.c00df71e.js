"use strict";(self["webpackChunkvue_low_code"]=self["webpackChunkvue_low_code"]||[]).push([[836],{5836:function(e,t,o){o.r(t),o.d(t,{default:function(){return m}});var r=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"login"}},[t("div",{staticClass:"login-from-box"},[t("h2",[e._v("登录")]),t("el-form",{ref:"elForm",attrs:{model:e.formData,rules:e.rules,size:"medium","label-width":"75px","label-position":"left"}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{attrs:{placeholder:"请输入用户名",clearable:"","prefix-icon":"el-icon-user-solid"},model:{value:e.formData.username,callback:function(t){e.$set(e.formData,"username",t)},expression:"formData.username"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{style:{width:"100%"},attrs:{placeholder:"请输入密码",clearable:"","prefix-icon":"el-icon-info","show-password":""},model:{value:e.formData.password,callback:function(t){e.$set(e.formData,"password",t)},expression:"formData.password"}})],1),t("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[t("el-input",{attrs:{placeholder:"请输入您的手机号",clearable:"","prefix-icon":"el-icon-user-solid"},model:{value:e.formData.phone,callback:function(t){e.$set(e.formData,"phone",t)},expression:"formData.phone"}})],1),t("el-form-item",{attrs:{label:"验证码",prop:"Verificationcode"}},[t("el-input",{style:{width:e.percentage},attrs:{placeholder:"请输入验证码",clearable:"","prefix-icon":"el-icon-loading"},model:{value:e.formData.Verificationcode,callback:function(t){e.$set(e.formData,"Verificationcode",t)},expression:"formData.Verificationcode"}}),t("el-button",{on:{click:e.getCode}},[e._v(e._s(e.buttonText))])],1),t("el-form-item",{staticStyle:{"margin-left":"-80px"},attrs:{size:"large"}},[t("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")]),t("el-button",{on:{click:e.resetForm}},[e._v("重置")])],1)],1)],1)])},a=[],s=o(84259),i=o(64720),n=o(20629),l={data(){return{formData:{username:"admin",password:123456,Verificationcode:void 0,phone:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"}],Verificationcode:[{required:!0,message:"请输入验证码",trigger:"blur"}]},percentage:"65%",countdown:0,buttonText:"获取验证码",code:0}},computed:{},methods:{...(0,n.nv)(["login"]),submitForm(){this.$refs["elForm"].validate((e=>{e&&(this.formData.Verificationcode==this.code?this.login(this.formData):(0,i.Message)({message:"验证码错误",type:"error",duration:3e3}))}))},resetForm(){this.$refs["elForm"].resetFields()},getCode(){0==this.countdown&&""!=this.formData.phone?this.checkPhoneNumber(this.formData.phone):""==this.formData.phone?(this.submitForm(),(0,i.Message)({message:"请填写手机号",type:"error",duration:3e3})):(0,i.Message)({message:this.buttonText,type:"error",duration:3e3})},startCountdown(){if(!(this.countdown>0)){this.countdown=60,this.buttonText=`${this.countdown} 秒后获取`,this.percentage="63%";const e=setInterval((()=>{this.countdown--,this.buttonText=`${this.countdown} 秒后获取`,this.percentage="63%",0===this.countdown&&(clearInterval(e),this.buttonText="获取验证码",this.percentage="65%")}),1e3)}},checkPhoneNumber(e){const t=/^(?:(?:\+|00)86)?1(?:(?:3[\d])|(?:4[5-79])|(?:5[0-35-9])|(?:6[5-7])|(?:7[0-8])|(?:8[\d])|(?:9[1589]))\d{8}$/;console.log("reg.test(phoneNumber)",e),t.test(e)?(0,s.ov)({phone:this.formData.phone}).then((e=>{console.log(e),200==e.code&&(this.code=e.data),this.startCountdown()})):(0,i.Message)({message:"手机号有误",type:"error",duration:3e3})}}},c=l,u=o(1001),d=(0,u.Z)(c,r,a,!1,null,"42c1d464",null),m=d.exports}}]);
//# sourceMappingURL=836.c00df71e.js.map