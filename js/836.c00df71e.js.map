{"version":3,"file":"js/836.c00df71e.js","mappings":"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","sources":["webpack://vue-low-code/./src/views/Login/Login.vue","webpack://vue-low-code/src/views/Login/Login.vue","webpack://vue-low-code/./src/views/Login/Login.vue?866a","webpack://vue-low-code/./src/views/Login/Login.vue?5822"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"login\"}},[_c('div',{staticClass:\"login-from-box\"},[_c('h2',[_vm._v(\"登录\")]),_c('el-form',{ref:\"elForm\",attrs:{\"model\":_vm.formData,\"rules\":_vm.rules,\"size\":\"medium\",\"label-width\":\"75px\",\"label-position\":\"left\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入用户名\",\"clearable\":\"\",\"prefix-icon\":\"el-icon-user-solid\"},model:{value:(_vm.formData.username),callback:function ($$v) {_vm.$set(_vm.formData, \"username\", $$v)},expression:\"formData.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{style:({ width: '100%' }),attrs:{\"placeholder\":\"请输入密码\",\"clearable\":\"\",\"prefix-icon\":\"el-icon-info\",\"show-password\":\"\"},model:{value:(_vm.formData.password),callback:function ($$v) {_vm.$set(_vm.formData, \"password\", $$v)},expression:\"formData.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手机号\",\"prop\":\"phone\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入您的手机号\",\"clearable\":\"\",\"prefix-icon\":\"el-icon-user-solid\"},model:{value:(_vm.formData.phone),callback:function ($$v) {_vm.$set(_vm.formData, \"phone\", $$v)},expression:\"formData.phone\"}})],1),_c('el-form-item',{attrs:{\"label\":\"验证码\",\"prop\":\"Verificationcode\"}},[_c('el-input',{style:({ width: _vm.percentage }),attrs:{\"placeholder\":\"请输入验证码\",\"clearable\":\"\",\"prefix-icon\":\"el-icon-loading\"},model:{value:(_vm.formData.Verificationcode),callback:function ($$v) {_vm.$set(_vm.formData, \"Verificationcode\", $$v)},expression:\"formData.Verificationcode\"}}),_c('el-button',{on:{\"click\":_vm.getCode}},[_vm._v(_vm._s(_vm.buttonText))])],1),_c('el-form-item',{staticStyle:{\"margin-left\":\"-80px\"},attrs:{\"size\":\"large\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitForm}},[_vm._v(\"提交\")]),_c('el-button',{on:{\"click\":_vm.resetForm}},[_vm._v(\"重置\")])],1)],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div id=\"login\">\r\n        <div class=\"login-from-box\">\r\n            <h2>登录</h2>\r\n            <el-form ref=\"elForm\" :model=\"formData\" :rules=\"rules\" size=\"medium\" label-width=\"75px\" label-position=\"left\">\r\n                <el-form-item label=\"用户名\" prop=\"username\">\r\n                    <el-input v-model=\"formData.username\" placeholder=\"请输入用户名\" clearable prefix-icon='el-icon-user-solid'>\r\n                    </el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"密码\" prop=\"password\">\r\n                    <el-input v-model=\"formData.password\" placeholder=\"请输入密码\" clearable prefix-icon='el-icon-info'\r\n                        show-password :style=\"{ width: '100%' }\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"手机号\" prop=\"phone\">\r\n                    <el-input v-model=\"formData.phone\" placeholder=\"请输入您的手机号\" clearable prefix-icon='el-icon-user-solid'>\r\n                    </el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"验证码\" prop=\"Verificationcode\">\r\n                    <el-input v-model=\"formData.Verificationcode\" placeholder=\"请输入验证码\" clearable\r\n                        prefix-icon='el-icon-loading' :style=\"{ width: percentage }\"></el-input>\r\n                    <el-button @click=\"getCode\">{{ buttonText }}</el-button>\r\n                </el-form-item>\r\n                <el-form-item size=\"large\" style=\"margin-left: -80px;\">\r\n                    <el-button type=\"primary\" @click=\"submitForm\">提交</el-button>\r\n                    <el-button @click=\"resetForm\">重置</el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { getUserCode, userLogin } from \"@/api/user/index\"\r\nimport { Message } from \"element-ui\"\r\nimport { mapActions } from 'vuex'\r\nexport default {\r\n    data() {\r\n        return {\r\n            formData: {\r\n                username: \"admin\",\r\n                password: 123456,\r\n                Verificationcode: undefined,\r\n                phone: \"\",\r\n            },\r\n            rules: {\r\n                username: [{\r\n                    required: true,\r\n                    message: '请输入用户名',\r\n                    trigger: 'blur'\r\n                }],\r\n                password: [{\r\n                    required: true,\r\n                    message: '请输入密码',\r\n                    trigger: 'blur'\r\n                }],\r\n                phone: [{\r\n                    required: true,\r\n                    message: '请输入手机号',\r\n                    trigger: 'blur'\r\n                }],\r\n                Verificationcode: [{\r\n                    required: true,\r\n                    message: '请输入验证码',\r\n                    trigger: 'blur'\r\n                }],\r\n            },\r\n            percentage: \"65%\",\r\n            countdown: 0,\r\n            buttonText: \"获取验证码\",\r\n            code: 0,//获取的验证码\r\n        }\r\n    },\r\n    computed: {\r\n\r\n    },\r\n    methods: {\r\n        ...mapActions(['login']),\r\n        submitForm() {\r\n            this.$refs['elForm'].validate(valid => {\r\n                if (!valid) return\r\n                // TODO 提交表单'\r\n                if (this.formData.Verificationcode == this.code) {\r\n                    this.login(this.formData)\r\n                } else {\r\n                    Message({\r\n                        message: '验证码错误',\r\n                        type: \"error\",\r\n                        duration: 3000,\r\n                    })\r\n                }\r\n            })\r\n        },\r\n        //提交校验\r\n        resetForm() {\r\n            this.$refs['elForm'].resetFields()\r\n        },\r\n        //获取验证码\r\n        getCode() {\r\n            if (this.countdown == 0 && this.formData.phone != \"\") {\r\n                this.checkPhoneNumber(this.formData.phone)\r\n            } else if (this.formData.phone == \"\") {\r\n                this.submitForm()\r\n                Message({\r\n                    message: \"请填写手机号\",\r\n                    type: \"error\",\r\n                    duration: 3000,\r\n                })\r\n            } else {\r\n                Message({\r\n                    message: this.buttonText,\r\n                    type: \"error\",\r\n                    duration: 3000,\r\n                })\r\n            }\r\n\r\n        },\r\n        //按钮倒计时\r\n        startCountdown() {\r\n            if (this.countdown > 0) {\r\n                return\r\n            } else {\r\n                this.countdown = 60\r\n                this.buttonText = `${this.countdown} 秒后获取`\r\n                this.percentage = '63%'\r\n                const intervalId = setInterval(() => {\r\n                    this.countdown--\r\n                    this.buttonText = `${this.countdown} 秒后获取`\r\n                    this.percentage = '63%'\r\n                    if (this.countdown === 0) {\r\n                        clearInterval(intervalId)\r\n                        this.buttonText = '获取验证码'\r\n                        this.percentage = '65%'\r\n                    }\r\n                }, 1000)\r\n            }\r\n\r\n\r\n        },\r\n        checkPhoneNumber(phoneNumber) {\r\n            // 以 1 开头，后面跟 10 位数字\r\n            const reg = /^(?:(?:\\+|00)86)?1(?:(?:3[\\d])|(?:4[5-79])|(?:5[0-35-9])|(?:6[5-7])|(?:7[0-8])|(?:8[\\d])|(?:9[1589]))\\d{8}$/;\r\n            console.log('reg.test(phoneNumber)', phoneNumber);\r\n            if (reg.test(phoneNumber)) {\r\n                getUserCode({ phone: this.formData.phone }).then((res) => {\r\n                    console.log(res);\r\n                    if (res.code == 200) {\r\n                        this.code = res.data\r\n                    }\r\n                    this.startCountdown()\r\n                })\r\n            } else {\r\n                Message({\r\n                    message: '手机号有误',\r\n                    type: \"error\",\r\n                    duration: 3000,\r\n                })\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n#login {\r\n    width: 100%;\r\n    height: 100vh;\r\n    text-align: center;\r\n    background-color: rgb(245, 245, 245);\r\n    position: relative;\r\n    background-image: url(@/assets/bk.png);\r\n    background-size: 100% 100%;\r\n    background-repeat: repeat;\r\n\r\n    .login-from-box {\r\n        width: 400px;\r\n        height: 315px;\r\n        margin: 0 auto;\r\n        position: fixed;\r\n        top: 50%;\r\n        left: 50%;\r\n        margin-top: -200px;\r\n        margin-left: -250px;\r\n        background-color: white;\r\n        padding: 50px 50px 50px 50px;\r\n        border-radius: 30px;\r\n\r\n    }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=42c1d464&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=42c1d464&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"42c1d464\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","staticClass","_v","ref","formData","rules","model","value","username","callback","$$v","$set","expression","style","width","password","phone","percentage","Verificationcode","on","getCode","_s","buttonText","staticStyle","submitForm","resetForm","staticRenderFns","data","undefined","required","message","trigger","countdown","code","computed","methods","mapActions","$refs","validate","valid","login","Message","type","duration","resetFields","checkPhoneNumber","startCountdown","intervalId","setInterval","clearInterval","phoneNumber","reg","console","log","test","getUserCode","then","res","component"],"sourceRoot":""}