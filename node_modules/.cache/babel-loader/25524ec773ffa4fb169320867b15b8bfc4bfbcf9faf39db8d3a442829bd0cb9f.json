{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport GanttElastic from \"gantt-elastic\";\nimport GanttHeader from \"gantt-elastic-header\";\nimport dayjs from \"dayjs\";\nimport userTab from \"@/views/User/userTab.vue\";\n\n// just helper to get current dates\nexport function getDate(hours) {\n  const currentDate = new Date();\n  const currentYear = currentDate.getFullYear();\n  const currentMonth = currentDate.getMonth();\n  const currentDay = currentDate.getDate();\n  const timeStamp = new Date(currentYear, currentMonth, currentDay, 0, 0, 0).getTime();\n  return new Date(timeStamp + hours * 60 * 60 * 1000).getTime();\n}\nvar that = {};\nimport moment from 'moment';\nexport default {\n  components: {\n    GanttElastic,\n    GanttHeader,\n    userTab\n  },\n  data() {\n    return {\n      tasks: [{\n        id: 1,\n        label: \"第一个里程碑\",\n        //标题\n        status: '进行中',\n        //状态\n        start: 1686240000000,\n        //开始时间\n        endTime: 1687536000000,\n        //结束时间\n        duration: 15 * 24 * 60 * 60 * 1000,\n        percent: 85,\n        type: \"project\"\n        //collapsed: true,\n      }, {\n        id: 2,\n        label: \"第一个子节点\",\n        status: '进行中',\n        parentId: 1,\n        //对应的父节点\n        start: getDate(-24 * 4),\n        duration: 4 * 24 * 60 * 60 * 1000,\n        percent: 50,\n        type: \"milestone\",\n        collapsed: false,\n        //是否自动收缩\n        style: {\n          //颜色\n          base: {\n            fill: \"#1EBC61\",\n            //进度颜色\n            stroke: \"#0EAC51\"\n          }\n        }\n      }, {\n        id: 3,\n        label: \"第一个孙节点\",\n        status: '<a href=\"https://www.google.com/search?q=John+Wayne\" target=\"_blank\" style=\"color:#0077c0;\">John Wayne</a>',\n        parentId: 2,\n        start: 1686240000000,\n        endTime: 1687536000000,\n        duration: 2 * 24 * 60 * 60 * 1000,\n        percent: 100,\n        type: \"task\"\n      }, {\n        id: 4,\n        label: \"第二个里程碑\",\n        status: '<a href=\"https://www.google.com/search?q=Clark+Kent\" target=\"_blank\" style=\"color:#0077c0;\">Clark Kent</a>',\n        start: getDate(-24 * 2),\n        duration: 2 * 24 * 60 * 60 * 1000,\n        percent: 50,\n        type: \"task\",\n        dependentOn: [3]\n      }, {\n        id: 5,\n        label: \"第三个里程碑\",\n        status: '<a href=\"https://www.google.com/search?q=Clark+Kent\" target=\"_blank\" style=\"color:#0077c0;\">Clark Kent</a>',\n        start: getDate(-24 * 2),\n        duration: 2 * 24 * 60 * 60 * 1000,\n        percent: 50,\n        type: \"task\",\n        dependentOn: [3]\n      }, {\n        id: 6,\n        label: \"第四个里程碑\",\n        status: '<a href=\"https://www.google.com/search?q=Clark+Kent\" target=\"_blank\" style=\"color:#0077c0;\">Clark Kent</a>',\n        start: getDate(-24 * 2),\n        duration: 2 * 24 * 60 * 60 * 1000,\n        percent: 50,\n        type: \"task\",\n        dependentOn: [3]\n      }],\n      dynamicStyle: {},\n      lastId: 16,\n      svglist: []\n    };\n  },\n  methods: {\n    addTask(data) {\n      this.tasks.push({\n        id: this.lastId++,\n        label: '<a href=\"https://images.pexels.com/photos/423364/pexels-photo-423364.jpeg?auto=compress&cs=tinysrgb&h=650&w=940\" target=\"_blank\" style=\"color:#0077c0;\">Yeaahh! you have added a task bro!</a>',\n        status: '<a href=\"https://images.pexels.com/photos/423364/pexels-photo-423364.jpeg?auto=compress&cs=tinysrgb&h=650&w=940\" target=\"_blank\" style=\"color:#0077c0;\">Awesome!</a>',\n        start: \"\",\n        parentId: 1,\n        //对应的父节点\n        duration: 1 * 24 * 60 * 60 * 1000,\n        percent: 50,\n        type: \"project\"\n      });\n    },\n    tasksUpdate(tasks) {\n      this.tasks = tasks;\n    },\n    optionsUpdate(options) {\n      this.options = options;\n    },\n    styleUpdate(style) {\n      this.dynamicStyle = style;\n    }\n  },\n  mounted() {\n    const gantt = new GanttElastic(this.$refs.gantt, this.options);\n    gantt.init();\n    let svg = document.querySelectorAll('.gantt-elastic__task-list-expander-content');\n    let svg2 = document.querySelectorAll('.gantt-elastic__chart-expander-content');\n    let svglist = [...svg];\n    let svglist2 = [...svg2];\n    svglist.map((item, index) => {\n      item.style.display = 'none';\n    });\n    svglist2.map((item, index) => {\n      item.style.display = 'none';\n    });\n  },\n  created() {\n    that = this;\n  }\n};","map":{"version":3,"names":["GanttElastic","GanttHeader","dayjs","userTab","getDate","hours","currentDate","Date","currentYear","getFullYear","currentMonth","getMonth","currentDay","timeStamp","getTime","that","moment","components","data","tasks","id","label","status","start","endTime","duration","percent","type","parentId","collapsed","style","base","fill","stroke","dependentOn","dynamicStyle","lastId","svglist","methods","addTask","push","tasksUpdate","optionsUpdate","options","styleUpdate","mounted","gantt","$refs","init","svg","document","querySelectorAll","svg2","svglist2","map","item","index","display","created"],"sources":["src/components/Gantt/Ganntt.vue"],"sourcesContent":["<template>\r\n   <div>\r\n      <div class=\"gatte_box\">\r\n         <gantt-elastic ref=\"gantt\" :options=\"options\" :tasks=\"tasks\" @tasks-changed=\"tasksUpdate\" @options-changed=\"optionsUpdate\"\r\n            @dynamic-style-changed=\"styleUpdate\">\r\n            <!-- <gantt-header slot=\"header\"></gantt-header> -->\r\n         </gantt-elastic>\r\n      </div>\r\n      <div class=\"q-mt-md\"></div>\r\n      <div class=\"tab\">\r\n         <userTab></userTab>\r\n      </div>\r\n   </div>\r\n</template>\r\n<script>\r\nimport GanttElastic from \"gantt-elastic\";\r\nimport GanttHeader from \"gantt-elastic-header\";\r\nimport dayjs from \"dayjs\";\r\nimport userTab from \"@/views/User/userTab.vue\"\r\n\r\n// just helper to get current dates\r\nexport function getDate(hours) {\r\n   const currentDate = new Date();\r\n   const currentYear = currentDate.getFullYear();\r\n   const currentMonth = currentDate.getMonth();\r\n   const currentDay = currentDate.getDate();\r\n   const timeStamp = new Date(\r\n      currentYear,\r\n      currentMonth,\r\n      currentDay,\r\n      0,\r\n      0,\r\n      0\r\n   ).getTime();\r\n   return new Date(timeStamp + hours * 60 * 60 * 1000).getTime();\r\n}\r\nvar that = {}\r\nimport moment from 'moment';\r\nexport default {\r\n   components: {\r\n      GanttElastic,\r\n      GanttHeader,\r\n      userTab\r\n   },\r\n   data() {\r\n      return {\r\n         tasks: [\r\n            {\r\n               id: 1,\r\n               label: \"第一个里程碑\",//标题\r\n               status:\r\n                  '进行中', //状态\r\n               start: 1686240000000,  //开始时间\r\n               endTime: 1687536000000,   //结束时间\r\n               duration: 15 * 24 * 60 * 60 * 1000,\r\n               percent: 85,\r\n               type: \"project\",\r\n               //collapsed: true,\r\n            },\r\n            {\r\n               id: 2,\r\n               label: \"第一个子节点\",\r\n               status:\r\n                  '进行中',\r\n               parentId: 1,  //对应的父节点\r\n               start: getDate(-24 * 4),\r\n               duration: 4 * 24 * 60 * 60 * 1000,\r\n               percent: 50,\r\n               type: \"milestone\",\r\n               collapsed: false,  //是否自动收缩\r\n               style: {   //颜色\r\n                  base: {\r\n                     fill: \"#1EBC61\",   //进度颜色\r\n                     stroke: \"#0EAC51\"\r\n                  }\r\n               }\r\n            },\r\n            {\r\n               id: 3,\r\n               label: \"第一个孙节点\",\r\n               status:\r\n                  '<a href=\"https://www.google.com/search?q=John+Wayne\" target=\"_blank\" style=\"color:#0077c0;\">John Wayne</a>',\r\n               parentId: 2,\r\n               start: 1686240000000,\r\n               endTime: 1687536000000,\r\n               duration: 2 * 24 * 60 * 60 * 1000,\r\n               percent: 100,\r\n               type: \"task\"\r\n            },\r\n            {\r\n               id: 4,\r\n               label: \"第二个里程碑\",\r\n               status:\r\n                  '<a href=\"https://www.google.com/search?q=Clark+Kent\" target=\"_blank\" style=\"color:#0077c0;\">Clark Kent</a>',\r\n               start: getDate(-24 * 2),\r\n               duration: 2 * 24 * 60 * 60 * 1000,\r\n               percent: 50,\r\n               type: \"task\",\r\n               dependentOn: [3]\r\n            },\r\n            {\r\n               id: 5,\r\n               label: \"第三个里程碑\",\r\n               status:\r\n                  '<a href=\"https://www.google.com/search?q=Clark+Kent\" target=\"_blank\" style=\"color:#0077c0;\">Clark Kent</a>',\r\n               start: getDate(-24 * 2),\r\n               duration: 2 * 24 * 60 * 60 * 1000,\r\n               percent: 50,\r\n               type: \"task\",\r\n               dependentOn: [3]\r\n            },\r\n            {\r\n               id: 6,\r\n               label: \"第四个里程碑\",\r\n               status:\r\n                  '<a href=\"https://www.google.com/search?q=Clark+Kent\" target=\"_blank\" style=\"color:#0077c0;\">Clark Kent</a>',\r\n               start: getDate(-24 * 2),\r\n               duration: 2 * 24 * 60 * 60 * 1000,\r\n               percent: 50,\r\n               type: \"task\",\r\n               dependentOn: [3]\r\n            },\r\n         ],\r\n       \r\n         dynamicStyle: {},\r\n         lastId: 16,\r\n         svglist: []\r\n      };\r\n   },\r\n   methods: {\r\n      addTask(data) {\r\n         this.tasks.push({\r\n            id: this.lastId++,\r\n            label:\r\n               '<a href=\"https://images.pexels.com/photos/423364/pexels-photo-423364.jpeg?auto=compress&cs=tinysrgb&h=650&w=940\" target=\"_blank\" style=\"color:#0077c0;\">Yeaahh! you have added a task bro!</a>',\r\n            status:\r\n               '<a href=\"https://images.pexels.com/photos/423364/pexels-photo-423364.jpeg?auto=compress&cs=tinysrgb&h=650&w=940\" target=\"_blank\" style=\"color:#0077c0;\">Awesome!</a>',\r\n            start: \"\",\r\n            parentId: 1,  //对应的父节点\r\n            duration: 1 * 24 * 60 * 60 * 1000,\r\n            percent: 50,\r\n            type: \"project\"\r\n         });\r\n      },\r\n      tasksUpdate(tasks) {\r\n         this.tasks = tasks;\r\n      },\r\n      optionsUpdate(options) {\r\n         this.options = options;\r\n      },\r\n      styleUpdate(style) {\r\n         this.dynamicStyle = style;\r\n      },\r\n   },\r\n   mounted() {\r\n      const gantt = new GanttElastic(this.$refs.gantt, this.options);\r\n    gantt.init();\r\n      let svg = document.querySelectorAll('.gantt-elastic__task-list-expander-content');\r\n      let svg2 = document.querySelectorAll('.gantt-elastic__chart-expander-content');\r\n      let svglist = [...svg]\r\n      let svglist2 = [...svg2]\r\n      svglist.map((item, index) => {\r\n         item.style.display = 'none'\r\n      })\r\n      svglist2.map((item, index) => {\r\n         item.style.display = 'none'\r\n      })\r\n\r\n   },\r\n   created() {\r\n      that = this\r\n   }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.gatte_box {\r\n   width: 100%;\r\n   box-sizing: border-box;\r\n   padding: 20px 50px;\r\n}\r\n\r\n.tab {\r\n   width: 70%;\r\n   margin: 0 auto;\r\n   background-color: #fff;\r\n   padding: 50px;\r\n   background-color: rgba(237, 266, 255);\r\n   font-size: 16px;\r\n}\r\n</style>"],"mappings":";AAeA,OAAAA,YAAA;AACA,OAAAC,WAAA;AACA,OAAAC,KAAA;AACA,OAAAC,OAAA;;AAEA;AACA,gBAAAC,QAAAC,KAAA;EACA,MAAAC,WAAA,OAAAC,IAAA;EACA,MAAAC,WAAA,GAAAF,WAAA,CAAAG,WAAA;EACA,MAAAC,YAAA,GAAAJ,WAAA,CAAAK,QAAA;EACA,MAAAC,UAAA,GAAAN,WAAA,CAAAF,OAAA;EACA,MAAAS,SAAA,OAAAN,IAAA,CACAC,WAAA,EACAE,YAAA,EACAE,UAAA,EACA,GACA,GACA,CACA,EAAAE,OAAA;EACA,WAAAP,IAAA,CAAAM,SAAA,GAAAR,KAAA,mBAAAS,OAAA;AACA;AACA,IAAAC,IAAA;AACA,OAAAC,MAAA;AACA;EACAC,UAAA;IACAjB,YAAA;IACAC,WAAA;IACAE;EACA;EACAe,KAAA;IACA;MACAC,KAAA,GACA;QACAC,EAAA;QACAC,KAAA;QAAA;QACAC,MAAA,EACA;QAAA;QACAC,KAAA;QAAA;QACAC,OAAA;QAAA;QACAC,QAAA;QACAC,OAAA;QACAC,IAAA;QACA;MACA,GACA;QACAP,EAAA;QACAC,KAAA;QACAC,MAAA,EACA;QACAM,QAAA;QAAA;QACAL,KAAA,EAAAnB,OAAA;QACAqB,QAAA;QACAC,OAAA;QACAC,IAAA;QACAE,SAAA;QAAA;QACAC,KAAA;UAAA;UACAC,IAAA;YACAC,IAAA;YAAA;YACAC,MAAA;UACA;QACA;MACA,GACA;QACAb,EAAA;QACAC,KAAA;QACAC,MAAA,EACA;QACAM,QAAA;QACAL,KAAA;QACAC,OAAA;QACAC,QAAA;QACAC,OAAA;QACAC,IAAA;MACA,GACA;QACAP,EAAA;QACAC,KAAA;QACAC,MAAA,EACA;QACAC,KAAA,EAAAnB,OAAA;QACAqB,QAAA;QACAC,OAAA;QACAC,IAAA;QACAO,WAAA;MACA,GACA;QACAd,EAAA;QACAC,KAAA;QACAC,MAAA,EACA;QACAC,KAAA,EAAAnB,OAAA;QACAqB,QAAA;QACAC,OAAA;QACAC,IAAA;QACAO,WAAA;MACA,GACA;QACAd,EAAA;QACAC,KAAA;QACAC,MAAA,EACA;QACAC,KAAA,EAAAnB,OAAA;QACAqB,QAAA;QACAC,OAAA;QACAC,IAAA;QACAO,WAAA;MACA,EACA;MAEAC,YAAA;MACAC,MAAA;MACAC,OAAA;IACA;EACA;EACAC,OAAA;IACAC,QAAArB,IAAA;MACA,KAAAC,KAAA,CAAAqB,IAAA;QACApB,EAAA,OAAAgB,MAAA;QACAf,KAAA,EACA;QACAC,MAAA,EACA;QACAC,KAAA;QACAK,QAAA;QAAA;QACAH,QAAA;QACAC,OAAA;QACAC,IAAA;MACA;IACA;IACAc,YAAAtB,KAAA;MACA,KAAAA,KAAA,GAAAA,KAAA;IACA;IACAuB,cAAAC,OAAA;MACA,KAAAA,OAAA,GAAAA,OAAA;IACA;IACAC,YAAAd,KAAA;MACA,KAAAK,YAAA,GAAAL,KAAA;IACA;EACA;EACAe,QAAA;IACA,MAAAC,KAAA,OAAA9C,YAAA,MAAA+C,KAAA,CAAAD,KAAA,OAAAH,OAAA;IACAG,KAAA,CAAAE,IAAA;IACA,IAAAC,GAAA,GAAAC,QAAA,CAAAC,gBAAA;IACA,IAAAC,IAAA,GAAAF,QAAA,CAAAC,gBAAA;IACA,IAAAd,OAAA,OAAAY,GAAA;IACA,IAAAI,QAAA,OAAAD,IAAA;IACAf,OAAA,CAAAiB,GAAA,EAAAC,IAAA,EAAAC,KAAA;MACAD,IAAA,CAAAzB,KAAA,CAAA2B,OAAA;IACA;IACAJ,QAAA,CAAAC,GAAA,EAAAC,IAAA,EAAAC,KAAA;MACAD,IAAA,CAAAzB,KAAA,CAAA2B,OAAA;IACA;EAEA;EACAC,QAAA;IACA3C,IAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}