{"ast":null,"code":"import { rulseToken } from \"@/api/user\";\nconst Guardsman = function (to, from, next) {\n  if (to.meta.title) {\n    document.title = to.meta.title;\n  }\n  if (to.matched.length === 0) {\n    next('/404');\n  } else {\n    if (to.path == '/login') {\n      next();\n    } else {\n      rulseToken(localStorage.getItem('token')).then(res => {\n        if (res.code == 200) {\n          next();\n        } else {\n          next('/login');\n        }\n      });\n    }\n  }\n};\nexport default Guardsman;","map":{"version":3,"names":["rulseToken","Guardsman","to","from","next","meta","title","document","matched","length","path","localStorage","getItem","then","res","code"],"sources":["D:/Lowcode/vue-simple/src/router/beforeEach.js"],"sourcesContent":["import { rulseToken } from \"@/api/user\"\r\n\r\nconst Guardsman = function(to, from, next){\r\n    if(to.meta.title){\r\n        document.title = to.meta.title;\r\n      }    \r\n    if (to.matched.length === 0) {\r\n        next('/404')\r\n      } else {\r\n       if(to.path == '/login'){\r\n        next()\r\n       }else{\r\n        rulseToken(localStorage.getItem('token')).then((res)=>{\r\n            if(res.code == 200){\r\n                next()\r\n            }else{\r\n                next('/login')\r\n            }\r\n        })\r\n       }\r\n        \r\n      }\r\n}\r\nexport default Guardsman"],"mappings":"AAAA,SAASA,UAAU,QAAQ,YAAY;AAEvC,MAAMC,SAAS,GAAG,SAAAA,CAASC,EAAE,EAAEC,IAAI,EAAEC,IAAI,EAAC;EACtC,IAAGF,EAAE,CAACG,IAAI,CAACC,KAAK,EAAC;IACbC,QAAQ,CAACD,KAAK,GAAGJ,EAAE,CAACG,IAAI,CAACC,KAAK;EAChC;EACF,IAAIJ,EAAE,CAACM,OAAO,CAACC,MAAM,KAAK,CAAC,EAAE;IACzBL,IAAI,CAAC,MAAM,CAAC;EACd,CAAC,MAAM;IACN,IAAGF,EAAE,CAACQ,IAAI,IAAI,QAAQ,EAAC;MACtBN,IAAI,CAAC,CAAC;IACP,CAAC,MAAI;MACJJ,UAAU,CAACW,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,CAACC,IAAI,CAAEC,GAAG,IAAG;QAClD,IAAGA,GAAG,CAACC,IAAI,IAAI,GAAG,EAAC;UACfX,IAAI,CAAC,CAAC;QACV,CAAC,MAAI;UACDA,IAAI,CAAC,QAAQ,CAAC;QAClB;MACJ,CAAC,CAAC;IACH;EAED;AACN,CAAC;AACD,eAAeH,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}