{"ast":null,"code":"import { rulseToken } from \"@/api/user\";\nconst Guardsman = function (to, from, next) {\n  if (to.meta.title) {\n    document.title = to.meta.title;\n  }\n  if (to.matched.length === 0) {\n    next('/404');\n  } else {\n    if (to.path == '/login') {\n      next();\n    } else {\n      rulseToken(localStorage.getItem('token')).then(res => {\n        if (res.code == 200) {\n          next();\n        } else {\n          next('/login');\n        }\n      });\n    }\n  }\n};\nexport default Guardsman;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}