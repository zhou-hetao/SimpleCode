{"ast":null,"code":"import moment from \"moment\"; // moment格式化时间\nimport gantt from \"dhtmlx-gantt\"; // 引入模块\nimport \"dhtmlx-gantt/codebase/dhtmlxgantt.css\"; //皮肤\n\nexport default {\n  name: \"gantt\",\n  data() {\n    return {\n      tasks: {\n        data: []\n      }\n    };\n  },\n  mounted() {\n    this.initData();\n\n    //表格列设置\n    gantt.config.columns = [{\n      name: \"project_num\",\n      label: \"项目编码\",\n      width: 80,\n      align: \"center\"\n    }, {\n      name: \"project_type\",\n      label: \"项目类别\",\n      width: 80,\n      align: \"center\"\n    }, {\n      name: \"text\",\n      label: \"项目名称\",\n      width: 100,\n      align: \"center\"\n    } // { name: \"add\", label: \"\" }, // ➕icon列显示 点击弹出添加框 隐藏没有\n    ];\n\n    时间安排显示代码块;\n    gantt.config.scale_unit = \"year\"; //第一个时间尺度，即X轴的单位，包括：\"minute\", \"hour\", \"day\", \"week\", \"month\", \"year\"\n    gantt.config.step = 1;\n    gantt.config.date_scale = \"%Y\";\n    gantt.config.start_date = new Date(2020, 0, 1); // 0代表1月 11代表12月\n    gantt.config.end_date = new Date(2025, 11, 31); // 0代表1月 11代表12月\n    // gantt.config.subscales = [ //第二个时间尺度单位\n    //         { unit: \"day\", step: 1, date: \"%D\" }\n    //     ];复制代码\n    // 初始化\n    gantt.init(this.$refs.gantt);\n    // 数据解析\n    gantt.parse(this.tasks);\n  },\n  methods: {\n    initData() {\n      // 处理数据\n      let arr = [{\n        id: \"1\",\n        task: \"12相交\",\n        planStart: \"2021-09-01\",\n        planEnd: \"2021-12-01\",\n        actualStart: \"2021-10-01\",\n        actualEnd: \"2022-02-01\"\n      }, {\n        id: \"2\",\n        task: \"21相交\",\n        planStart: \"2021-10-01\",\n        planEnd: \"2022-02-01\",\n        actualStart: \"2021-09-01\",\n        actualEnd: \"2021-12-01\"\n      }, {\n        id: \"3\",\n        task: \"1包含2\",\n        planStart: \"2021-09-01\",\n        planEnd: \"2022-05-01\",\n        actualStart: \"2021-12-01\",\n        actualEnd: \"2022-02-01\"\n      }, {\n        id: \"4\",\n        task: \"2包含1\",\n        planStart: \"2021-12-01\",\n        planEnd: \"2022-02-01\",\n        actualStart: \"2021-09-01\",\n        actualEnd: \"2022-05-01\"\n      }, {\n        id: \"5\",\n        task: \"12相离\",\n        planStart: \"2021-09-01\",\n        planEnd: \"2021-12-01\",\n        actualStart: \"2022-02-01\",\n        actualEnd: \"2022-05-01\"\n      }, {\n        id: \"6\",\n        task: \"21相离\",\n        planStart: \"2022-02-01\",\n        planEnd: \"2022-05-01\",\n        actualStart: \"2021-09-01\",\n        actualEnd: \"2021-12-01\"\n      }, {\n        id: \"7\",\n        task: \"1包含2\",\n        planStart: \"2021-09-01\",\n        planEnd: \"2022-05-01\",\n        actualStart: \"2021-09-01\",\n        actualEnd: \"2022-02-01\"\n      }, {\n        id: \"8\",\n        task: \"1包含2\",\n        planStart: \"2021-09-01\",\n        planEnd: \"2022-05-01\",\n        actualStart: \"2021-12-01\",\n        actualEnd: \"2022-05-01\"\n      }, {\n        id: \"9\",\n        task: \"2包含1\",\n        planStart: \"2021-09-01\",\n        planEnd: \"2022-02-01\",\n        actualStart: \"2021-09-01\",\n        actualEnd: \"2022-05-01\"\n      }, {\n        id: \"10\",\n        task: \"2包含1\",\n        planStart: \"2021-12-01\",\n        planEnd: \"2022-05-01\",\n        actualStart: \"2021-09-01\",\n        actualEnd: \"2022-05-01\"\n      }, {\n        id: \"11\",\n        task: \"12相等\",\n        planStart: \"2021-09-01\",\n        planEnd: \"2022-05-01\",\n        actualStart: \"2021-09-01\",\n        actualEnd: \"2022-05-01\"\n      }, {\n        id: \"1\",\n        task: \"子12相等\",\n        planStart: \"2022-09-01\",\n        planEnd: \"2023-05-01\",\n        actualStart: \"2022-09-01\",\n        actualEnd: \"2022-012-01\",\n        parent: \"1\"\n      }];\n    }\n  }\n};","map":{"version":3,"names":["moment","gantt","name","data","tasks","mounted","initData","config","columns","label","width","align","时间安排显示代码块","scale_unit","step","date_scale","start_date","Date","end_date","init","$refs","parse","methods","arr","id","task","planStart","planEnd","actualStart","actualEnd","parent"],"sources":["src/components/Gantt/Gantetu.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div ref=\"gantt\" class=\"left-container\" />\r\n  </div>\r\n</template>\r\n<script>\r\nimport moment from \"moment\"; // moment格式化时间\r\nimport gantt from \"dhtmlx-gantt\"; // 引入模块\r\nimport \"dhtmlx-gantt/codebase/dhtmlxgantt.css\"; //皮肤\r\n\r\nexport default {\r\n  name: \"gantt\",\r\n  data() {\r\n    return {\r\n      tasks: {\r\n        data: [],\r\n      },\r\n    };\r\n  },\r\n  mounted() {\r\n    this.initData();\r\n\r\n    //表格列设置\r\n    gantt.config.columns = [\r\n      { name: \"project_num\", label: \"项目编码\", width: 80, align: \"center\" },\r\n      { name: \"project_type\", label: \"项目类别\", width: 80, align: \"center\" },\r\n      { name: \"text\", label: \"项目名称\", width: 100, align: \"center\" }, // { name: \"add\", label: \"\" }, // ➕icon列显示 点击弹出添加框 隐藏没有\r\n    ];\r\n    时间安排显示代码块;\r\n    gantt.config.scale_unit = \"year\"; //第一个时间尺度，即X轴的单位，包括：\"minute\", \"hour\", \"day\", \"week\", \"month\", \"year\"\r\n    gantt.config.step = 1;\r\n    gantt.config.date_scale = \"%Y\";\r\n    gantt.config.start_date = new Date(2020, 0, 1); // 0代表1月 11代表12月\r\n    gantt.config.end_date = new Date(2025, 11, 31); // 0代表1月 11代表12月\r\n    // gantt.config.subscales = [ //第二个时间尺度单位\r\n    //         { unit: \"day\", step: 1, date: \"%D\" }\r\n    //     ];复制代码\r\n    // 初始化\r\n    gantt.init(this.$refs.gantt);\r\n    // 数据解析\r\n    gantt.parse(this.tasks);\r\n  },\r\n  methods: {\r\n    initData() {\r\n      // 处理数据\r\n      let arr = [\r\n        {\r\n          id: \"1\",\r\n          task: \"12相交\",\r\n          planStart: \"2021-09-01\",\r\n          planEnd: \"2021-12-01\",\r\n          actualStart: \"2021-10-01\",\r\n          actualEnd: \"2022-02-01\",\r\n        },\r\n        {\r\n          id: \"2\",\r\n          task: \"21相交\",\r\n          planStart: \"2021-10-01\",\r\n          planEnd: \"2022-02-01\",\r\n          actualStart: \"2021-09-01\",\r\n          actualEnd: \"2021-12-01\",\r\n        },\r\n        {\r\n          id: \"3\",\r\n          task: \"1包含2\",\r\n          planStart: \"2021-09-01\",\r\n          planEnd: \"2022-05-01\",\r\n          actualStart: \"2021-12-01\",\r\n          actualEnd: \"2022-02-01\",\r\n        },\r\n        {\r\n          id: \"4\",\r\n          task: \"2包含1\",\r\n          planStart: \"2021-12-01\",\r\n          planEnd: \"2022-02-01\",\r\n          actualStart: \"2021-09-01\",\r\n          actualEnd: \"2022-05-01\",\r\n        },\r\n        {\r\n          id: \"5\",\r\n          task: \"12相离\",\r\n          planStart: \"2021-09-01\",\r\n          planEnd: \"2021-12-01\",\r\n          actualStart: \"2022-02-01\",\r\n          actualEnd: \"2022-05-01\",\r\n        },\r\n        {\r\n          id: \"6\",\r\n          task: \"21相离\",\r\n          planStart: \"2022-02-01\",\r\n          planEnd: \"2022-05-01\",\r\n          actualStart: \"2021-09-01\",\r\n          actualEnd: \"2021-12-01\",\r\n        },\r\n        {\r\n          id: \"7\",\r\n          task: \"1包含2\",\r\n          planStart: \"2021-09-01\",\r\n          planEnd: \"2022-05-01\",\r\n          actualStart: \"2021-09-01\",\r\n          actualEnd: \"2022-02-01\",\r\n        },\r\n        {\r\n          id: \"8\",\r\n          task: \"1包含2\",\r\n          planStart: \"2021-09-01\",\r\n          planEnd: \"2022-05-01\",\r\n          actualStart: \"2021-12-01\",\r\n          actualEnd: \"2022-05-01\",\r\n        },\r\n        {\r\n          id: \"9\",\r\n          task: \"2包含1\",\r\n          planStart: \"2021-09-01\",\r\n          planEnd: \"2022-02-01\",\r\n          actualStart: \"2021-09-01\",\r\n          actualEnd: \"2022-05-01\",\r\n        },\r\n        {\r\n          id: \"10\",\r\n          task: \"2包含1\",\r\n          planStart: \"2021-12-01\",\r\n          planEnd: \"2022-05-01\",\r\n          actualStart: \"2021-09-01\",\r\n          actualEnd: \"2022-05-01\",\r\n        },\r\n        {\r\n          id: \"11\",\r\n          task: \"12相等\",\r\n          planStart: \"2021-09-01\",\r\n          planEnd: \"2022-05-01\",\r\n          actualStart: \"2021-09-01\",\r\n          actualEnd: \"2022-05-01\",\r\n        },\r\n        {\r\n          id: \"1\",\r\n          task: \"子12相等\",\r\n          planStart: \"2022-09-01\",\r\n          planEnd: \"2023-05-01\",\r\n          actualStart: \"2022-09-01\",\r\n          actualEnd: \"2022-012-01\",\r\n          parent: \"1\",\r\n        },\r\n      ];\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\nhtml,\r\nbody {\r\n  height: 100%;\r\n  padding: 0px;\r\n  margin: 0px;\r\n  overflow: hidden;\r\n}\r\n\r\n.legend {\r\n  padding: 10px;\r\n  display: flex;\r\n\r\n  .legendBox {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-right: 20px;\r\n\r\n    .legendSml {\r\n      width: 30px;\r\n      height: 16px;\r\n      border-radius: 5px;\r\n      margin-right: 4px;\r\n    }\r\n\r\n    .legendColor1 {\r\n      background: #01aff4;\r\n    }\r\n    .legendColor2 {\r\n      background: #0169bd;\r\n    }\r\n    .legendColor3 {\r\n      background: rgb(1, 105, 189, 50%);\r\n    }\r\n  }\r\n}\r\n\r\n.gantt_task_content {\r\n  display: flex;\r\n}\r\n\r\n.gantt_task_line {\r\n  background: #fff;\r\n}\r\n\r\n.custom_progress {\r\n  display: inline-block;\r\n  vertical-align: top;\r\n  text-align: center;\r\n  height: 100%;\r\n}\r\n.nearly_done {\r\n  background-color: #01aff4 !important;\r\n}\r\n\r\n.in_progress {\r\n  background-color: #0169bd !important;\r\n}\r\n\r\n.in_progress_w {\r\n  background-color: #fff !important;\r\n}\r\n\r\n.idle {\r\n  background-color: rgb(1, 105, 189, 50%) !important;\r\n}\r\n.firstLevelTask {\r\n  border: none;\r\n}\r\n\r\n.secondLevelTask {\r\n  border: none;\r\n}\r\n\r\n.left-container {\r\n  height: 600px;\r\n}\r\n</style>\r\n"],"mappings":"AAMA,OAAAA,MAAA;AACA,OAAAC,KAAA;AACA;;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,KAAA;QACAD,IAAA;MACA;IACA;EACA;EACAE,QAAA;IACA,KAAAC,QAAA;;IAEA;IACAL,KAAA,CAAAM,MAAA,CAAAC,OAAA,IACA;MAAAN,IAAA;MAAAO,KAAA;MAAAC,KAAA;MAAAC,KAAA;IAAA,GACA;MAAAT,IAAA;MAAAO,KAAA;MAAAC,KAAA;MAAAC,KAAA;IAAA,GACA;MAAAT,IAAA;MAAAO,KAAA;MAAAC,KAAA;MAAAC,KAAA;IAAA;IAAA,CACA;;IACAC,SAAA;IACAX,KAAA,CAAAM,MAAA,CAAAM,UAAA;IACAZ,KAAA,CAAAM,MAAA,CAAAO,IAAA;IACAb,KAAA,CAAAM,MAAA,CAAAQ,UAAA;IACAd,KAAA,CAAAM,MAAA,CAAAS,UAAA,OAAAC,IAAA;IACAhB,KAAA,CAAAM,MAAA,CAAAW,QAAA,OAAAD,IAAA;IACA;IACA;IACA;IACA;IACAhB,KAAA,CAAAkB,IAAA,MAAAC,KAAA,CAAAnB,KAAA;IACA;IACAA,KAAA,CAAAoB,KAAA,MAAAjB,KAAA;EACA;EACAkB,OAAA;IACAhB,SAAA;MACA;MACA,IAAAiB,GAAA,IACA;QACAC,EAAA;QACAC,IAAA;QACAC,SAAA;QACAC,OAAA;QACAC,WAAA;QACAC,SAAA;MACA,GACA;QACAL,EAAA;QACAC,IAAA;QACAC,SAAA;QACAC,OAAA;QACAC,WAAA;QACAC,SAAA;MACA,GACA;QACAL,EAAA;QACAC,IAAA;QACAC,SAAA;QACAC,OAAA;QACAC,WAAA;QACAC,SAAA;MACA,GACA;QACAL,EAAA;QACAC,IAAA;QACAC,SAAA;QACAC,OAAA;QACAC,WAAA;QACAC,SAAA;MACA,GACA;QACAL,EAAA;QACAC,IAAA;QACAC,SAAA;QACAC,OAAA;QACAC,WAAA;QACAC,SAAA;MACA,GACA;QACAL,EAAA;QACAC,IAAA;QACAC,SAAA;QACAC,OAAA;QACAC,WAAA;QACAC,SAAA;MACA,GACA;QACAL,EAAA;QACAC,IAAA;QACAC,SAAA;QACAC,OAAA;QACAC,WAAA;QACAC,SAAA;MACA,GACA;QACAL,EAAA;QACAC,IAAA;QACAC,SAAA;QACAC,OAAA;QACAC,WAAA;QACAC,SAAA;MACA,GACA;QACAL,EAAA;QACAC,IAAA;QACAC,SAAA;QACAC,OAAA;QACAC,WAAA;QACAC,SAAA;MACA,GACA;QACAL,EAAA;QACAC,IAAA;QACAC,SAAA;QACAC,OAAA;QACAC,WAAA;QACAC,SAAA;MACA,GACA;QACAL,EAAA;QACAC,IAAA;QACAC,SAAA;QACAC,OAAA;QACAC,WAAA;QACAC,SAAA;MACA,GACA;QACAL,EAAA;QACAC,IAAA;QACAC,SAAA;QACAC,OAAA;QACAC,WAAA;QACAC,SAAA;QACAC,MAAA;MACA,EACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}