{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _user = require(\"@/api/user\");\nconst Guardsman = function (to, from, next) {\n  if (to.meta.title) {\n    document.title = to.meta.title;\n  }\n  if (to.matched.length === 0) {\n    next('/404');\n  } else {\n    if (to.path == '/login') {\n      next();\n    } else {\n      (0, _user.rulseToken)(localStorage.getItem('token')).then(res => {\n        if (res.code == 200) {\n          next();\n        } else {\n          next('/login');\n        }\n      });\n    }\n  }\n};\nvar _default = Guardsman;\nexports.default = _default;","map":{"version":3,"names":["_user","require","Guardsman","to","from","next","meta","title","document","matched","length","path","rulseToken","localStorage","getItem","then","res","code","_default","exports","default"],"sources":["D:/Lowcode/vue-low-code/src/router/beforeEach.js"],"sourcesContent":["import { rulseToken } from \"@/api/user\"\r\n\r\nconst Guardsman = function(to, from, next){\r\n    if(to.meta.title){\r\n        document.title = to.meta.title;\r\n      }    \r\n    if (to.matched.length === 0) {\r\n        next('/404')\r\n      } else {\r\n       if(to.path == '/login'){\r\n        next()\r\n       }else{\r\n        rulseToken(localStorage.getItem('token')).then((res)=>{\r\n            if(res.code == 200){\r\n                next()\r\n            }else{\r\n                next('/login')\r\n            }\r\n        })\r\n       }\r\n        \r\n      }\r\n}\r\nexport default Guardsman"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,OAAA;AAEA,MAAMC,SAAS,GAAG,SAAAA,CAASC,EAAE,EAAEC,IAAI,EAAEC,IAAI,EAAC;EACtC,IAAGF,EAAE,CAACG,IAAI,CAACC,KAAK,EAAC;IACbC,QAAQ,CAACD,KAAK,GAAGJ,EAAE,CAACG,IAAI,CAACC,KAAK;EAChC;EACF,IAAIJ,EAAE,CAACM,OAAO,CAACC,MAAM,KAAK,CAAC,EAAE;IACzBL,IAAI,CAAC,MAAM,CAAC;EACd,CAAC,MAAM;IACN,IAAGF,EAAE,CAACQ,IAAI,IAAI,QAAQ,EAAC;MACtBN,IAAI,CAAC,CAAC;IACP,CAAC,MAAI;MACJ,IAAAO,gBAAU,EAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,CAACC,IAAI,CAAEC,GAAG,IAAG;QAClD,IAAGA,GAAG,CAACC,IAAI,IAAI,GAAG,EAAC;UACfZ,IAAI,CAAC,CAAC;QACV,CAAC,MAAI;UACDA,IAAI,CAAC,QAAQ,CAAC;QAClB;MACJ,CAAC,CAAC;IACH;EAED;AACN,CAAC;AAAA,IAAAa,QAAA,GACchB,SAAS;AAAAiB,OAAA,CAAAC,OAAA,GAAAF,QAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}