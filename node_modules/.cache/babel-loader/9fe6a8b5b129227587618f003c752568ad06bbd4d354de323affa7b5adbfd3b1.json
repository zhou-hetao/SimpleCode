{"ast":null,"code":"import one from \"@/components/form/one.vue\";\nimport figureForm from \"@/components/form/figureForm.vue\";\nimport build from \"@/components/form/build.vue\";\nimport shipTable from \"@/components/table/shipTable.vue\";\nexport default {\n  components: {\n    one,\n    figureForm,\n    build,\n    shipTable\n  },\n  props: [],\n  data() {\n    return {\n      flage: 1,\n      //表格\n      columns: [{\n        prop: 'boats',\n        label: '船舶',\n        backgroundColor: 'white',\n        width: 120,\n        resizable: true\n      }, {\n        prop: 'build',\n        label: '建造修改加减账合计',\n        backgroundColor: 'white',\n        width: 80,\n        resizable: true\n      }, {\n        prop: 'equipment',\n        label: '设备选型加减账合计',\n        backgroundColor: 'white',\n        width: 200,\n        resizable: false\n      }, {\n        prop: ' drawings',\n        label: '审图加减账合计',\n        backgroundColor: 'white',\n        width: 200,\n        resizable: false\n      }, {\n        prop: 'total',\n        label: '总加减账合计',\n        backgroundColor: 'white',\n        width: 200,\n        resizable: false\n      }],\n      data: [{\n        id: 1,\n        boats: '远洋一号',\n        build: 18,\n        equipment: 386,\n        drawings: 548,\n        total: 1081\n      }, {\n        id: 2,\n        boats: '远洋二号',\n        build: 180,\n        equipment: 326,\n        drawings: 44,\n        total: 1581\n      }],\n      //表单\n      formData: {\n        companyname: undefined,\n        projectname: undefined,\n        shipsId: undefined,\n        shipyard: undefined,\n        type: undefined,\n        category: undefined\n      },\n      rules: {\n        companyname: [{\n          required: true,\n          message: '默认当前公司：',\n          trigger: 'blur'\n        }],\n        projectname: [{\n          required: true,\n          message: '请选择项目：',\n          trigger: 'change'\n        }],\n        shipsId: [{\n          required: true,\n          message: '请选择船号：',\n          trigger: 'change'\n        }],\n        shipyard: [{\n          required: true,\n          message: '请选择建造船厂：',\n          trigger: 'change'\n        }],\n        type: [{\n          required: true,\n          message: '请选择类型：',\n          trigger: 'change'\n        }],\n        category: [{\n          required: true,\n          message: '请选择类别：',\n          trigger: 'change'\n        }]\n      },\n      projectnameOptions: [{\n        \"label\": \"选项一\",\n        \"value\": 1\n      }, {\n        \"label\": \"选项二\",\n        \"value\": 2\n      }],\n      shipsIdOptions: [{\n        \"label\": \"选项一\",\n        \"value\": 1\n      }, {\n        \"label\": \"选项二\",\n        \"value\": 2\n      }],\n      shipyardOptions: [{\n        \"label\": \"选项一\",\n        \"value\": 1\n      }, {\n        \"label\": \"选项二\",\n        \"value\": 2\n      }],\n      typeOptions: [{\n        \"label\": \"选项一\",\n        \"value\": 1\n      }, {\n        \"label\": \"选项二\",\n        \"value\": 2\n      }],\n      categoryOptions: [{\n        \"label\": \"选项一\",\n        \"value\": 1\n      }, {\n        \"label\": \"选项二\",\n        \"value\": 2\n      }]\n    };\n  },\n  computed: {},\n  watch: {},\n  created() {},\n  mounted() {},\n  methods: {\n    submitForm() {\n      this.$refs['elForm'].validate(valid => {\n        this.$refs.childform.submitForm(); //调用子组件方法\n        if (!valid) return;\n        console.log(this.$refs.childform);\n      });\n    },\n    resetForm() {\n      this.$refs['elForm'].resetFields();\n    }\n  }\n};","map":{"version":3,"names":["one","figureForm","build","shipTable","components","props","data","flage","columns","prop","label","backgroundColor","width","resizable","id","boats","equipment","drawings","total","formData","companyname","undefined","projectname","shipsId","shipyard","type","category","rules","required","message","trigger","projectnameOptions","shipsIdOptions","shipyardOptions","typeOptions","categoryOptions","computed","watch","created","mounted","methods","submitForm","$refs","validate","valid","childform","console","log","resetForm","resetFields"],"sources":["src/components/Gantt/A.vue"],"sourcesContent":["<template>\r\n  <div class=\"content\">\r\n    <div class=\"submit_box\">\r\n      <div class=\"btn_box\">\r\n        <el-button @click=\"submitForm()\">保存</el-button>\r\n        <el-button style=\"margin-left: 80px;\">提交</el-button>\r\n      </div>\r\n    </div>\r\n    <div class=\"title_box\">加账信息</div>\r\n    <div class=\"form_box\">\r\n      <el-row :gutter=\"0\">\r\n        <el-form ref=\"elForm\" :model=\"formData\" :rules=\"rules\" size=\"mini\" label-width=\"87px\">\r\n          <el-col :span=\"8\">\r\n            <el-form-item label-width=\"98px\" label=\"公司：\" prop=\"companyname\">\r\n              <el-input v-model=\"formData.companyname\" placeholder=\"默认当前公司：\" clearable :style=\"{ width: '100%' }\">\r\n              </el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"6\">\r\n            <el-form-item label=\"项目：\" prop=\"projectname\">\r\n              <el-select v-model=\"formData.projectname\" placeholder=\"请选择项目：\" clearable :style=\"{ width: '100%' }\">\r\n                <el-option v-for=\"(item, index) in projectnameOptions\" :key=\"index\" :label=\"item.label\"\r\n                  :value=\"item.value\" :disabled=\"item.disabled\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"船号：\" prop=\"shipsId\">\r\n              <el-select v-model=\"formData.shipsId\" placeholder=\"请选择船号：\" clearable :style=\"{ width: '100%' }\">\r\n                <el-option v-for=\"(item, index) in shipsIdOptions\" :key=\"index\" :label=\"item.label\" :value=\"item.value\"\r\n                  :disabled=\"item.disabled\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label-width=\"97px\" label=\"建造船厂：\" prop=\"shipyard\">\r\n              <el-select v-model=\"formData.shipyard\" placeholder=\"请选择建造船厂：\" clearable :style=\"{ width: '100%' }\">\r\n                <el-option v-for=\"(item, index) in shipyardOptions\" :key=\"index\" :label=\"item.label\" :value=\"item.value\"\r\n                  :disabled=\"item.disabled\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"6\">\r\n            <el-form-item label=\"类型：\" prop=\"type\">\r\n              <el-select v-model=\"formData.type\" placeholder=\"请选择类型：\" clearable :style=\"{ width: '100%' }\">\r\n                <el-option v-for=\"(item, index) in typeOptions\" :key=\"index\" :label=\"item.label\" :value=\"item.value\"\r\n                  :disabled=\"item.disabled\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"类别：\" prop=\"category\">\r\n              <el-select v-model=\"formData.category\" placeholder=\"请选择类别：\" clearable :style=\"{ width: '100%' }\">\r\n                <el-option v-for=\"(item, index) in categoryOptions\" :key=\"index\" :label=\"item.label\" :value=\"item.value\"\r\n                  :disabled=\"item.disabled\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-form>\r\n      </el-row>\r\n     \r\n    </div>\r\n    <!-- 类型一 -->\r\n    <div class=\"type-form-box\" v-if=\"flage==1\">\r\n      <div class=\"type_box\">设备选型</div>\r\n      <div class=\"type-form\">\r\n        <one ref=\"childform\"></one>\r\n        <shipTable :columns=\"columns\" :data=\"data\"></shipTable>\r\n      </div>\r\n    </div>\r\n    <!-- 类型二 -->\r\n    <div class=\"type-form-box\" v-if=\"flage==2\">\r\n      <div class=\"type_box\">审图</div>\r\n      <div class=\"type-form\">\r\n        <figureForm ref=\"childform\"></figureForm>\r\n      </div>\r\n    </div>\r\n    <!-- 类型三 -->\r\n    <div class=\"type-form-box\" v-if=\"flage==3\">\r\n      <div class=\"type_box\">建造修改</div>\r\n      <div class=\"type-form\">\r\n        <build ref=\"childform\"></build>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 审批 -->\r\n    <div class=\"type-form-box\">\r\n      <div class=\"type_box\">审批意见</div>\r\n      <div class=\"approve\">\r\n        采用现有审批意见\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport one from \"@/components/form/one.vue\";\r\nimport figureForm from \"@/components/form/figureForm.vue\";\r\nimport build from \"@/components/form/build.vue\"\r\nimport shipTable from \"@/components/table/shipTable.vue\"\r\nexport default {\r\n  components: {\r\n    one,\r\n    figureForm,\r\n    build,\r\n    shipTable\r\n  },\r\n  props: [],\r\n  data() {\r\n    return {\r\n      flage:1,\r\n      //表格\r\n      columns: [\r\n        { prop: 'boats', label: '船舶', backgroundColor: 'white', width: 120, resizable: true },\r\n        { prop: 'build', label: '建造修改加减账合计', backgroundColor: 'white', width: 80, resizable: true },\r\n        { prop: 'equipment', label: '设备选型加减账合计', backgroundColor: 'white', width: 200, resizable: false },\r\n        { prop: ' drawings', label: '审图加减账合计', backgroundColor: 'white', width: 200, resizable: false },\r\n        { prop: 'total', label: '总加减账合计', backgroundColor: 'white', width: 200, resizable: false },\r\n      ],\r\n      data: [\r\n        { id: 1, boats: '远洋一号', build: 18, equipment: 386,drawings:548,total:1081},\r\n        { id: 2, boats: '远洋二号', build: 180, equipment: 326,drawings:44,total:1581},\r\n      ],\r\n      //表单\r\n      formData: {\r\n        companyname: undefined,\r\n        projectname: undefined,\r\n        shipsId: undefined,\r\n        shipyard: undefined,\r\n        type: undefined,\r\n        category: undefined,\r\n      },\r\n      rules: {\r\n        companyname: [{\r\n          required: true,\r\n          message: '默认当前公司：',\r\n          trigger: 'blur'\r\n        }],\r\n        projectname: [{\r\n          required: true,\r\n          message: '请选择项目：',\r\n          trigger: 'change'\r\n        }],\r\n        shipsId: [{\r\n          required: true,\r\n          message: '请选择船号：',\r\n          trigger: 'change'\r\n        }],\r\n        shipyard: [{\r\n          required: true,\r\n          message: '请选择建造船厂：',\r\n          trigger: 'change'\r\n        }],\r\n        type: [{\r\n          required: true,\r\n          message: '请选择类型：',\r\n          trigger: 'change'\r\n        }],\r\n        category: [{\r\n          required: true,\r\n          message: '请选择类别：',\r\n          trigger: 'change'\r\n        }],\r\n      },\r\n      projectnameOptions: [{\r\n        \"label\": \"选项一\",\r\n        \"value\": 1\r\n      }, {\r\n        \"label\": \"选项二\",\r\n        \"value\": 2\r\n      }],\r\n      shipsIdOptions: [{\r\n        \"label\": \"选项一\",\r\n        \"value\": 1\r\n      }, {\r\n        \"label\": \"选项二\",\r\n        \"value\": 2\r\n      }],\r\n      shipyardOptions: [{\r\n        \"label\": \"选项一\",\r\n        \"value\": 1\r\n      }, {\r\n        \"label\": \"选项二\",\r\n        \"value\": 2\r\n      }],\r\n      typeOptions: [{\r\n        \"label\": \"选项一\",\r\n        \"value\": 1\r\n      }, {\r\n        \"label\": \"选项二\",\r\n        \"value\": 2\r\n      }],\r\n      categoryOptions: [{\r\n        \"label\": \"选项一\",\r\n        \"value\": 1\r\n      }, {\r\n        \"label\": \"选项二\",\r\n        \"value\": 2\r\n      }],\r\n    }\r\n  },\r\n  computed: {},\r\n  watch: {},\r\n  created() { },\r\n  mounted() { },\r\n  methods: {\r\n    submitForm() {\r\n      this.$refs['elForm'].validate(valid => {\r\n        this.$refs.childform.submitForm()//调用子组件方法\r\n        if (!valid) return\r\n        console.log(this.$refs.childform);\r\n      })\r\n    },\r\n    resetForm() {\r\n      this.$refs['elForm'].resetFields()\r\n    },\r\n  }\r\n}\r\n\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.content {\r\n  width: 100%;\r\n  position: relative;\r\n\r\n  .form_box {\r\n    width: 75%;\r\n    box-sizing: border-box;\r\n    padding: 10px;\r\n    border: 1px solid black;\r\n    margin: 0 auto;\r\n  }\r\n\r\n  .title_box {\r\n    width: 77%;\r\n    margin: 0 auto;\r\n    margin-bottom: 10px;\r\n  }\r\n\r\n  .submit_box {\r\n    width: 75%;\r\n    height: 50px;\r\n    margin: 0 auto;\r\n    position: relative;\r\n\r\n    .btn_box {\r\n      position: absolute;\r\n      right: 0;\r\n      top: 10px;\r\n    }\r\n  }\r\n\r\n  .type-form-box {\r\n    width: 75%;\r\n    margin: 0 auto;\r\n\r\n    .type-form {\r\n      width: 100%;\r\n      border: 1px solid black;\r\n      box-sizing: border-box;\r\n      padding: 10px;\r\n      margin-top: 20px;\r\n    }\r\n\r\n    .type_box {\r\n      width: 100%;\r\n      margin-top: 10px;\r\n      margin-left: -12px;\r\n    }\r\n    .approve{\r\n      width: 100%;\r\n      height: 50px;\r\n      border: 1px solid black;\r\n      text-align: center;\r\n      line-height: 52px;\r\n      margin-top: 15px;\r\n      font-weight: 600;\r\n    }\r\n  }\r\n\r\n}\r\n\r\n.el-button {\r\n  display: inline-block;\r\n  line-height: 1;\r\n  white-space: nowrap;\r\n  cursor: pointer;\r\n  background: #FFF;\r\n  border: 1px solid #DCDFE6;\r\n  color: #606266;\r\n  -webkit-appearance: none;\r\n  text-align: center;\r\n  box-sizing: border-box;\r\n  outline: 0;\r\n  margin: 0;\r\n  transition: .1s;\r\n  font-weight: 500;\r\n  padding: 7px 35px;\r\n  font-size: 14px;\r\n  border-radius: 4px;\r\n}</style>\r\n"],"mappings":"AA+FA,OAAAA,GAAA;AACA,OAAAC,UAAA;AACA,OAAAC,KAAA;AACA,OAAAC,SAAA;AACA;EACAC,UAAA;IACAJ,GAAA;IACAC,UAAA;IACAC,KAAA;IACAC;EACA;EACAE,KAAA;EACAC,KAAA;IACA;MACAC,KAAA;MACA;MACAC,OAAA,GACA;QAAAC,IAAA;QAAAC,KAAA;QAAAC,eAAA;QAAAC,KAAA;QAAAC,SAAA;MAAA,GACA;QAAAJ,IAAA;QAAAC,KAAA;QAAAC,eAAA;QAAAC,KAAA;QAAAC,SAAA;MAAA,GACA;QAAAJ,IAAA;QAAAC,KAAA;QAAAC,eAAA;QAAAC,KAAA;QAAAC,SAAA;MAAA,GACA;QAAAJ,IAAA;QAAAC,KAAA;QAAAC,eAAA;QAAAC,KAAA;QAAAC,SAAA;MAAA,GACA;QAAAJ,IAAA;QAAAC,KAAA;QAAAC,eAAA;QAAAC,KAAA;QAAAC,SAAA;MAAA,EACA;MACAP,IAAA,GACA;QAAAQ,EAAA;QAAAC,KAAA;QAAAb,KAAA;QAAAc,SAAA;QAAAC,QAAA;QAAAC,KAAA;MAAA,GACA;QAAAJ,EAAA;QAAAC,KAAA;QAAAb,KAAA;QAAAc,SAAA;QAAAC,QAAA;QAAAC,KAAA;MAAA,EACA;MACA;MACAC,QAAA;QACAC,WAAA,EAAAC,SAAA;QACAC,WAAA,EAAAD,SAAA;QACAE,OAAA,EAAAF,SAAA;QACAG,QAAA,EAAAH,SAAA;QACAI,IAAA,EAAAJ,SAAA;QACAK,QAAA,EAAAL;MACA;MACAM,KAAA;QACAP,WAAA;UACAQ,QAAA;UACAC,OAAA;UACAC,OAAA;QACA;QACAR,WAAA;UACAM,QAAA;UACAC,OAAA;UACAC,OAAA;QACA;QACAP,OAAA;UACAK,QAAA;UACAC,OAAA;UACAC,OAAA;QACA;QACAN,QAAA;UACAI,QAAA;UACAC,OAAA;UACAC,OAAA;QACA;QACAL,IAAA;UACAG,QAAA;UACAC,OAAA;UACAC,OAAA;QACA;QACAJ,QAAA;UACAE,QAAA;UACAC,OAAA;UACAC,OAAA;QACA;MACA;MACAC,kBAAA;QACA;QACA;MACA;QACA;QACA;MACA;MACAC,cAAA;QACA;QACA;MACA;QACA;QACA;MACA;MACAC,eAAA;QACA;QACA;MACA;QACA;QACA;MACA;MACAC,WAAA;QACA;QACA;MACA;QACA;QACA;MACA;MACAC,eAAA;QACA;QACA;MACA;QACA;QACA;MACA;IACA;EACA;EACAC,QAAA;EACAC,KAAA;EACAC,QAAA;EACAC,QAAA;EACAC,OAAA;IACAC,WAAA;MACA,KAAAC,KAAA,WAAAC,QAAA,CAAAC,KAAA;QACA,KAAAF,KAAA,CAAAG,SAAA,CAAAJ,UAAA;QACA,KAAAG,KAAA;QACAE,OAAA,CAAAC,GAAA,MAAAL,KAAA,CAAAG,SAAA;MACA;IACA;IACAG,UAAA;MACA,KAAAN,KAAA,WAAAO,WAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}