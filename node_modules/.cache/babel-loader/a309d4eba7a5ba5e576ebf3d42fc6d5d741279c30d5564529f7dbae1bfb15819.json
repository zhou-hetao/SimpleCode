{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport moment from \"moment\"; // moment格式化时间\nimport gantt from \"dhtmlx-gantt\"; // 引入模块\nimport \"dhtmlx-gantt/codebase/dhtmlxgantt.css\"; //皮肤\n\nexport default {\n  name: \"gantt\",\n  data() {\n    return {\n      tasks: {\n        data: []\n      }\n    };\n  },\n  mounted() {\n    let arr = [{\n      \"id\": \"7086894358414229504\",\n      \"nbProjectId\": \"7086894357860581376\",\n      \"projectVesselId\": \"7086894358300983296\",\n      \"vesselNameCn\": \"凯勇\",\n      \"vesselNameEn\": \"NEW VALOR\",\n      \"parentId\": \"0\",\n      \"dispNo\": 1,\n      \"scheduleNameCn\": \"签约\",\n      \"scheduleNameEn\": \"Sign\",\n      \"scheduleBeginDate\": \"2023-07-01\",\n      \"scheduleEndDate\": \"2024-01-24\",\n      \"actualBeginDate\": \"2023-07-05\",\n      \"actualEndDate\": null,\n      \"stageCode\": \"VESSEL_SCHEDULE_1\",\n      \"completedPercent\": 22,\n      \"scheduleRemark\": null,\n      \"fileIds\": null,\n      \"businessCode\": null\n    }, {\n      \"id\": \"7086894728481865728\",\n      \"nbProjectId\": \"7086894357860581376\",\n      \"projectVesselId\": \"7086894358300983296\",\n      \"vesselNameCn\": \"凯勇\",\n      \"vesselNameEn\": \"NEW VALOR\",\n      \"parentId\": \"7086894358414229504\",\n      \"dispNo\": null,\n      \"scheduleNameCn\": \"采购设备\",\n      \"scheduleNameEn\": \"caigoushebei\",\n      \"scheduleBeginDate\": \"2023-07-01\",\n      \"scheduleEndDate\": \"2024-01-24\",\n      \"actualBeginDate\": null,\n      \"actualEndDate\": null,\n      \"stageCode\": \"\",\n      \"completedPercent\": 13,\n      \"scheduleRemark\": \"\",\n      \"fileIds\": null,\n      \"businessCode\": null\n    }, {\n      \"id\": \"7088381175781130240\",\n      \"nbProjectId\": \"7086894357860581376\",\n      \"projectVesselId\": \"7086894358300983296\",\n      \"vesselNameCn\": \"凯勇\",\n      \"vesselNameEn\": \"NEW VALOR\",\n      \"parentId\": \"7086894358414229504\",\n      \"dispNo\": null,\n      \"scheduleNameCn\": \"审图\",\n      \"scheduleNameEn\": \"Plan Approval\",\n      \"scheduleBeginDate\": \"2023-07-05\",\n      \"scheduleEndDate\": \"2023-07-12\",\n      \"actualBeginDate\": \"2023-07-05\",\n      \"actualEndDate\": null,\n      \"stageCode\": \"\",\n      \"completedPercent\": 31,\n      \"scheduleRemark\": \"\",\n      \"fileIds\": null,\n      \"businessCode\": null\n    }, {\n      \"id\": \"7086894358431006720\",\n      \"nbProjectId\": \"7086894357860581376\",\n      \"projectVesselId\": \"7086894358300983296\",\n      \"vesselNameCn\": \"凯勇\",\n      \"vesselNameEn\": \"NEW VALOR\",\n      \"parentId\": \"0\",\n      \"dispNo\": 2,\n      \"scheduleNameCn\": \"开工\",\n      \"scheduleNameEn\": \"Start\",\n      \"scheduleBeginDate\": \"2023-09-15\",\n      \"scheduleEndDate\": \"2023-11-17\",\n      \"actualBeginDate\": \"2023-09-01\",\n      \"actualEndDate\": null,\n      \"stageCode\": \"VESSEL_SCHEDULE_2\",\n      \"completedPercent\": 6,\n      \"scheduleRemark\": null,\n      \"fileIds\": null,\n      \"businessCode\": null\n    }, {\n      \"id\": \"7088384223853150208\",\n      \"nbProjectId\": \"7086894357860581376\",\n      \"projectVesselId\": \"7086894358300983296\",\n      \"vesselNameCn\": \"凯勇\",\n      \"vesselNameEn\": \"NEW VALOR\",\n      \"parentId\": \"7086894358431006720\",\n      \"dispNo\": null,\n      \"scheduleNameCn\": \"钢板加工\",\n      \"scheduleNameEn\": \"Steel Fabrication\",\n      \"scheduleBeginDate\": \"2023-09-15\",\n      \"scheduleEndDate\": \"2023-11-17\",\n      \"actualBeginDate\": \"2023-09-01\",\n      \"actualEndDate\": null,\n      \"stageCode\": \"\",\n      \"completedPercent\": 6,\n      \"scheduleRemark\": \"\",\n      \"fileIds\": null,\n      \"businessCode\": null\n    }, {\n      \"id\": \"7088384248909922304\",\n      \"nbProjectId\": \"7086894357860581376\",\n      \"projectVesselId\": \"7086894358300983296\",\n      \"vesselNameCn\": \"凯勇\",\n      \"vesselNameEn\": \"NEW VALOR\",\n      \"parentId\": \"7086894358431006720\",\n      \"dispNo\": null,\n      \"scheduleNameCn\": \"钢板加工\",\n      \"scheduleNameEn\": \"Steel Fabrication\",\n      \"scheduleBeginDate\": \"2023-09-15\",\n      \"scheduleEndDate\": \"2023-11-17\",\n      \"actualBeginDate\": \"2023-09-01\",\n      \"actualEndDate\": null,\n      \"stageCode\": \"\",\n      \"completedPercent\": 6,\n      \"scheduleRemark\": \"\",\n      \"fileIds\": null,\n      \"businessCode\": null\n    }, {\n      \"id\": \"7086894358472949760\",\n      \"nbProjectId\": \"7086894357860581376\",\n      \"projectVesselId\": \"7086894358300983296\",\n      \"vesselNameCn\": \"凯勇\",\n      \"vesselNameEn\": \"NEW VALOR\",\n      \"parentId\": \"0\",\n      \"dispNo\": 3,\n      \"scheduleNameCn\": \"安放龙骨\",\n      \"scheduleNameEn\": \"Keel\",\n      \"scheduleBeginDate\": null,\n      \"scheduleEndDate\": null,\n      \"actualBeginDate\": null,\n      \"actualEndDate\": null,\n      \"stageCode\": \"VESSEL_SCHEDULE_3\",\n      \"completedPercent\": 0,\n      \"scheduleRemark\": null,\n      \"fileIds\": null,\n      \"businessCode\": null\n    }, {\n      \"id\": \"7086894358485532672\",\n      \"nbProjectId\": \"7086894357860581376\",\n      \"projectVesselId\": \"7086894358300983296\",\n      \"vesselNameCn\": \"凯勇\",\n      \"vesselNameEn\": \"NEW VALOR\",\n      \"parentId\": \"0\",\n      \"dispNo\": 4,\n      \"scheduleNameCn\": \"下水\",\n      \"scheduleNameEn\": \"Launch\",\n      \"scheduleBeginDate\": null,\n      \"scheduleEndDate\": null,\n      \"actualBeginDate\": null,\n      \"actualEndDate\": null,\n      \"stageCode\": \"VESSEL_SCHEDULE_4\",\n      \"completedPercent\": 0,\n      \"scheduleRemark\": null,\n      \"fileIds\": null,\n      \"businessCode\": null\n    }, {\n      \"id\": \"7086894358502309888\",\n      \"nbProjectId\": \"7086894357860581376\",\n      \"projectVesselId\": \"7086894358300983296\",\n      \"vesselNameCn\": \"凯勇\",\n      \"vesselNameEn\": \"NEW VALOR\",\n      \"parentId\": \"0\",\n      \"dispNo\": 5,\n      \"scheduleNameCn\": \"试航\",\n      \"scheduleNameEn\": \"Voyage\",\n      \"scheduleBeginDate\": null,\n      \"scheduleEndDate\": null,\n      \"actualBeginDate\": null,\n      \"actualEndDate\": null,\n      \"stageCode\": \"VESSEL_SCHEDULE_5\",\n      \"completedPercent\": 0,\n      \"scheduleRemark\": null,\n      \"fileIds\": null,\n      \"businessCode\": null\n    }, {\n      \"id\": \"7086894358544252928\",\n      \"nbProjectId\": \"7086894357860581376\",\n      \"projectVesselId\": \"7086894358300983296\",\n      \"vesselNameCn\": \"凯勇\",\n      \"vesselNameEn\": \"NEW VALOR\",\n      \"parentId\": \"0\",\n      \"dispNo\": 6,\n      \"scheduleNameCn\": \"交船\",\n      \"scheduleNameEn\": \"Delivery\",\n      \"scheduleBeginDate\": null,\n      \"scheduleEndDate\": null,\n      \"actualBeginDate\": null,\n      \"actualEndDate\": null,\n      \"stageCode\": \"VESSEL_SCHEDULE_6\",\n      \"completedPercent\": 0,\n      \"scheduleRemark\": null,\n      \"fileIds\": null,\n      \"businessCode\": null\n    }];\n    this.initData(arr);\n    gantt.config.show_progress = false;\n    gantt.config.open_tree_initially = true; //默认展开子级\n    // 设置左侧树子任务缩进和展开\n    gantt.config.indent = 30;\n    gantt.config.grid_width = 350;\n    gantt.config.open_tree_initially = true;\n    function percenToString(num) {\n      return Math.floor(num * 100) + \"%\";\n    }\n\n    // 设置每一部分的颜色\n    function renderLabel(progress, type, state) {\n      var relWidth = progress * 100;\n      var cssClass = \"custom_progress \";\n      if (type === 1) {\n        cssClass += \"nearly_done\";\n      } else if (type === 2) {\n        if (state) {\n          cssClass += \"in_progress\";\n        } else {\n          cssClass += \"in_progress_w\";\n        }\n      } else {\n        cssClass += \"idle\";\n      }\n      return \"<div class='\" + cssClass + \"' style='width:\" + relWidth + \"%'>\" + \"</div>\";\n    }\n\n    // 根据定义类型判断颜色顺序\n    gantt.templates.task_text = function (start, end, task) {\n      let colorType = task.colorType;\n      if (colorType === \"j12\" || colorType === \"one\") {\n        return renderLabel(task.progress1, 1, task.state) + renderLabel(task.progress2, 2, task.state) + renderLabel(task.progress3, 3, task.state);\n      } else if (colorType === \"j21\") {\n        return renderLabel(task.progress1, 3, task.state) + renderLabel(task.progress2, 2, task.state) + renderLabel(task.progress3, 1, task.state);\n      } else if (colorType === \"b12\") {\n        return renderLabel(task.progress1, 1, task.state) + renderLabel(task.progress2, 2, task.state) + renderLabel(task.progress3, 1, task.state);\n      } else if (colorType === \"b21\") {\n        return renderLabel(task.progress1, 3, task.state) + renderLabel(task.progress2, 2, task.state) + renderLabel(task.progress3, 3, task.state);\n      } else if (colorType === \"l12\") {\n        return renderLabel(task.progress1, 1, task.state) + renderLabel(task.progress2, 2, task.state) + renderLabel(task.progress3, 3, task.state);\n      } else if (colorType === \"l21\") {\n        return renderLabel(task.progress1, 3, task.state) + renderLabel(task.progress2, 2, task.state) + renderLabel(task.progress3, 1, task.state);\n      } else {\n        return renderLabel(task.progress1, 1, task.state) + renderLabel(task.progress2, 2, task.state) + renderLabel(task.progress3, 3, task.state);\n      }\n    };\n    gantt.plugins({\n      marker: true,\n      tooltip: true\n    }); // 开启marker插件\n    var dateToStr = gantt.date.date_to_str(gantt.config.task_date);\n    var today = new Date();\n    // 添加固定时间线\n    gantt.addMarker({\n      start_date: today,\n      css: \"today\",\n      text: \"今日:\" + moment(new Date()).format(\"YYYY-MM-DD\"),\n      title: \"Today: \" + dateToStr(today)\n    });\n    // 提示框内容\n    gantt.templates.tooltip_text = function (start, end, task) {\n      return \"<b>任务内容:</b>\" + task.text + \"<br/><b>计划开始:</b> \" + task.planStart + \"<br/><b>计划结束:</b> \" + task.planEnd + \"<br/><b>实际开始:</b> \" + task.actualStart + \"<br/><b>实际结束:</b> \" + task.actualEnd;\n    };\n    gantt.config.scale_unit = \"year\";\n    gantt.config.step = 1;\n    gantt.config.date_scale = \"%Y\";\n    //当右侧不止显示年份时，可以添加展示月日，添加一个就加一行\n    gantt.config.subscales = [{\n      unit: \"month\",\n      step: 1,\n      date: \"%m\"\n    }];\n    //甘特图右侧表头的高度\n    gantt.config.scale_height = 80;\n    //使用中文\n    gantt.i18n.setLocale(\"cn\");\n    //自适应甘特图的尺寸大小, 使得在不出现滚动条的情况下, 显示全部任务\n    gantt.config.autosize = true;\n    //只读模式\n    gantt.config.readonly = true;\n    //是否显示左侧树表格\n    gantt.config.show_grid = true;\n    //表格列设置\n    gantt.config.columns = [{\n      name: \"text\",\n      label: \"任务内容\",\n      width: \"120\",\n      align: \"center\",\n      tree: true\n    }, {\n      name: \"planStart\",\n      label: \"计划开始\",\n      width: \"100\",\n      align: \"center\"\n    }, {\n      name: \"planEnd\",\n      label: \"计划结束\",\n      width: \"100\",\n      align: \"center\"\n    }, {\n      name: \"actualStart\",\n      label: \"实际开始\",\n      width: \"100\",\n      align: \"center\"\n    }, {\n      name: \"actualEnd\",\n      label: \"实际结束\",\n      width: \"100\",\n      align: \"center\"\n    }];\n    //任务条上的文字大小 以及取消border自带样式\n    gantt.templates.task_class = function () {\n      return \"firstLevelTask\";\n    };\n    // 初始化\n    gantt.init(this.$refs.gantt);\n    // 数据解析\n    console.log(\"mounted\", this.tasks);\n    gantt.parse(this.tasks);\n    let ziji = document.querySelectorAll(\".gantt_cell\");\n    console.log(\"ziji\", ziji);\n  },\n  methods: {\n    undapta() {\n      let arr = [{\n        id: \"7086894358414229504\",\n        nbProjectId: \"7086894357860581376\",\n        projectVesselId: \"7086894358300983296\",\n        vesselNameCn: \"凯勇\",\n        vesselNameEn: \"NEW VALOR\",\n        parentId: \"0\",\n        dispNo: 1,\n        scheduleNameCn: \"签约\",\n        scheduleNameEn: \"Sign\",\n        scheduleBeginDate: \"2023-07-01\",\n        scheduleEndDate: \"2024-01-24\",\n        actualBeginDate: \"202-07-05\",\n        actualEndDate: null,\n        stageCode: \"VESSEL_SCHEDULE_1\",\n        completedPercent: 22,\n        scheduleRemark: null,\n        fileIds: null,\n        businessCode: null\n      }, {\n        id: \"7086894728481865728\",\n        nbProjectId: \"7086894357860581376\",\n        projectVesselId: \"7086894358300983296\",\n        vesselNameCn: \"凯勇\",\n        vesselNameEn: \"NEW VALOR\",\n        parentId: \"7086894358414229504\",\n        dispNo: null,\n        scheduleNameCn: \"采购设备\",\n        scheduleNameEn: \"caigoushebei\",\n        scheduleBeginDate: \"2023-07-01\",\n        scheduleEndDate: \"2024-01-24\",\n        actualBeginDate: null,\n        actualEndDate: null,\n        stageCode: \"\",\n        completedPercent: 13,\n        scheduleRemark: \"\",\n        fileIds: null,\n        businessCode: null\n      }, {\n        id: \"7088381175781130240\",\n        nbProjectId: \"7086894357860581376\",\n        projectVesselId: \"7086894358300983296\",\n        vesselNameCn: \"凯勇\",\n        vesselNameEn: \"NEW VALOR\",\n        parentId: \"7086894358414229504\",\n        dispNo: null,\n        scheduleNameCn: \"审图\",\n        scheduleNameEn: \"Plan Approval\",\n        scheduleBeginDate: \"2023-07-05\",\n        scheduleEndDate: \"2023-07-12\",\n        actualBeginDate: \"2023-07-05\",\n        actualEndDate: null,\n        stageCode: \"\",\n        completedPercent: 31,\n        scheduleRemark: \"\",\n        fileIds: null,\n        businessCode: null\n      }, {\n        id: \"7086894358431006720\",\n        nbProjectId: \"7086894357860581376\",\n        projectVesselId: \"7086894358300983296\",\n        vesselNameCn: \"凯勇\",\n        vesselNameEn: \"NEW VALOR\",\n        parentId: \"0\",\n        dispNo: 2,\n        scheduleNameCn: \"开工\",\n        scheduleNameEn: \"Start\",\n        scheduleBeginDate: \"2023-09-15\",\n        scheduleEndDate: \"2023-11-17\",\n        actualBeginDate: \"2023-09-01\",\n        actualEndDate: null,\n        stageCode: \"VESSEL_SCHEDULE_2\",\n        completedPercent: 6,\n        scheduleRemark: null,\n        fileIds: null,\n        businessCode: null\n      }, {\n        id: \"7088384223853150208\",\n        nbProjectId: \"7086894357860581376\",\n        projectVesselId: \"7086894358300983296\",\n        vesselNameCn: \"凯勇\",\n        vesselNameEn: \"NEW VALOR\",\n        parentId: \"7086894358431006720\",\n        dispNo: null,\n        scheduleNameCn: \"钢板加工\",\n        scheduleNameEn: \"Steel Fabrication\",\n        scheduleBeginDate: \"2023-09-15\",\n        scheduleEndDate: \"2023-11-17\",\n        actualBeginDate: \"2023-09-01\",\n        actualEndDate: null,\n        stageCode: \"\",\n        completedPercent: 6,\n        scheduleRemark: \"\",\n        fileIds: null,\n        businessCode: null\n      }, {\n        id: \"7088384248909922304\",\n        nbProjectId: \"7086894357860581376\",\n        projectVesselId: \"7086894358300983296\",\n        vesselNameCn: \"凯勇\",\n        vesselNameEn: \"NEW VALOR\",\n        parentId: \"7086894358431006720\",\n        dispNo: null,\n        scheduleNameCn: \"钢板加工\",\n        scheduleNameEn: \"Steel Fabrication\",\n        scheduleBeginDate: \"2023-09-15\",\n        scheduleEndDate: \"2023-11-17\",\n        actualBeginDate: \"2023-09-01\",\n        actualEndDate: null,\n        stageCode: \"\",\n        completedPercent: 6,\n        scheduleRemark: \"\",\n        fileIds: null,\n        businessCode: null\n      }, {\n        id: \"7086894358472949760\",\n        nbProjectId: \"7086894357860581376\",\n        projectVesselId: \"7086894358300983296\",\n        vesselNameCn: \"凯勇\",\n        vesselNameEn: \"NEW VALOR\",\n        parentId: \"0\",\n        dispNo: 3,\n        scheduleNameCn: \"安放龙骨\",\n        scheduleNameEn: \"Keel\",\n        scheduleBeginDate: null,\n        scheduleEndDate: null,\n        actualBeginDate: null,\n        actualEndDate: null,\n        stageCode: \"VESSEL_SCHEDULE_3\",\n        completedPercent: 0,\n        scheduleRemark: null,\n        fileIds: null,\n        businessCode: null\n      }, {\n        id: \"7086894358485532672\",\n        nbProjectId: \"7086894357860581376\",\n        projectVesselId: \"7086894358300983296\",\n        vesselNameCn: \"凯勇\",\n        vesselNameEn: \"NEW VALOR\",\n        parentId: \"0\",\n        dispNo: 4,\n        scheduleNameCn: \"下水\",\n        scheduleNameEn: \"Launch\",\n        scheduleBeginDate: null,\n        scheduleEndDate: null,\n        actualBeginDate: null,\n        actualEndDate: null,\n        stageCode: \"VESSEL_SCHEDULE_4\",\n        completedPercent: 0,\n        scheduleRemark: null,\n        fileIds: null,\n        businessCode: null\n      }, {\n        id: \"7086894358502309888\",\n        nbProjectId: \"7086894357860581376\",\n        projectVesselId: \"7086894358300983296\",\n        vesselNameCn: \"凯勇\",\n        vesselNameEn: \"NEW VALOR\",\n        parentId: \"0\",\n        dispNo: 5,\n        scheduleNameCn: \"试航\",\n        scheduleNameEn: \"Voyage\",\n        scheduleBeginDate: null,\n        scheduleEndDate: null,\n        actualBeginDate: null,\n        actualEndDate: null,\n        stageCode: \"VESSEL_SCHEDULE_5\",\n        completedPercent: 0,\n        scheduleRemark: null,\n        fileIds: null,\n        businessCode: null\n      }, {\n        id: \"7086894358544252928\",\n        nbProjectId: \"7086894357860581376\",\n        projectVesselId: \"7086894358300983296\",\n        vesselNameCn: \"凯勇\",\n        vesselNameEn: \"NEW VALOR\",\n        parentId: \"0\",\n        dispNo: 6,\n        scheduleNameCn: \"交船\",\n        scheduleNameEn: \"Delivery\",\n        scheduleBeginDate: null,\n        scheduleEndDate: null,\n        actualBeginDate: null,\n        actualEndDate: null,\n        stageCode: \"VESSEL_SCHEDULE_6\",\n        completedPercent: 0,\n        scheduleRemark: null,\n        fileIds: null,\n        businessCode: null\n      }];\n      this.initData(arr);\n    },\n    initData(data) {\n      // 处理数据\n      let arr = data;\n      let newArr = [];\n      arr.forEach((item, index) => {\n        let obj = this.getDate(item.scheduleBeginDate, item.scheduleEndDate, item.actualBeginDate, item.actualEndDate);\n        newArr.push({\n          id: item.id,\n          text: item.task,\n          start_date: new Date(moment(obj.minTime).format(\"YYYY-MM-DD\")),\n          progress1: Math.abs(obj.progress1),\n          progress2: Math.abs(obj.progress2),\n          progress3: Math.abs(obj.progress3),\n          duration: obj.duration,\n          planStart: item.planStart,\n          planEnd: item.planEnd,\n          actualStart: item.actualStart,\n          actualEnd: item.actualEnd,\n          state: obj.state,\n          colorType: obj.colorType,\n          parent: item.parent\n        });\n      });\n      this.tasks.data = newArr;\n    },\n    expandAllTasks() {\n      gantt.eachTask(task => {\n        gantt.open(task.id);\n      });\n    },\n    // 时间计算\n    getDate(Atime, Btime, Ctime, Dtime) {\n      let obj = {};\n      let arr = [Atime, Btime == \"\" ? Atime : Btime, Ctime, Dtime == \"\" ? Ctime : Dtime];\n      let timeArr = [];\n      arr.forEach(item => {\n        timeArr.push(new Date(item));\n      });\n      let minTime = moment(Math.min(...timeArr)).format(\"MM-DD-YYYY\");\n      let maxTime = moment(Math.max(...timeArr)).format(\"YYYY-MM-DD\");\n      let duration = this.difference(minTime, maxTime);\n      let progress1 = 0;\n      let progress2 = 0;\n      let progress3 = 0;\n      let state = true;\n      let colorType = true;\n      if (Atime < Ctime && Ctime < Btime && Btime < Dtime) {\n        // console.log('12相交', index)\n        colorType = \"j12\";\n        progress2 = this.difference(Ctime, Btime) / duration;\n        progress1 = this.difference(Atime, Ctime) / duration;\n        progress3 = this.difference(Btime, Dtime) / duration;\n      } else if (Btime > Ctime && Btime >= Dtime && Ctime >= Atime && Dtime > Atime) {\n        // console.log('1包含2', index)\n        colorType = \"b12\";\n        state = true;\n        progress2 = this.difference(Ctime, Dtime) / duration;\n        progress1 = this.difference(Atime, Ctime) / duration;\n        progress3 = this.difference(Dtime, Btime) / duration;\n      } else if (Dtime >= Btime && Dtime > Atime && Atime >= Ctime && Btime > Ctime) {\n        // console.log('2包含1', index)\n        colorType = \"b21\";\n        state = true;\n        progress2 = this.difference(Atime, Btime) / duration;\n        progress1 = this.difference(Ctime, Atime) / duration;\n        progress3 = this.difference(Btime, Dtime) / duration;\n      } else if (Btime > Dtime && Dtime > Atime && Atime > Ctime) {\n        // console.log('21相交', index)\n        colorType = \"j21\";\n        state = true;\n        progress2 = this.difference(Atime, Dtime) / duration;\n        progress1 = this.difference(Ctime, Atime) / duration;\n        progress3 = this.difference(Dtime, Btime) / duration;\n      } else if (Btime < Ctime) {\n        // console.log('12相离')\n        colorType = \"l12\";\n        state = false;\n        progress2 = this.difference(Btime, Ctime) / duration;\n        progress1 = this.difference(Atime, Btime) / duration;\n        progress3 = this.difference(Ctime, Dtime) / duration;\n      } else if (Dtime < Atime) {\n        // console.log('21相离')\n        colorType = \"l21\";\n        state = false;\n        progress2 = this.difference(Dtime, Atime) / duration;\n        progress3 = this.difference(Atime, Btime) / duration;\n        progress1 = this.difference(Ctime, Dtime) / duration;\n      } else {\n        colorType = \"one\";\n        console.log(\"状态错误\");\n      }\n      obj = {\n        state: state,\n        minTime: minTime,\n        duration: duration * 1,\n        progress1: progress1 * 1,\n        progress2: progress2 * 1,\n        progress3: progress3 * 1,\n        colorType: colorType\n      };\n      return obj;\n    },\n    difference(beginTime, Dtime) {\n      var dateBegin = new Date(beginTime);\n      var dateEnd = new Date(Dtime);\n      var dateDiff = dateEnd.getTime() - dateBegin.getTime(); //时间差的毫秒数\n      var dayDiff = Math.floor(dateDiff / (24 * 3600 * 1000)); //计算出相差天数\n      return dayDiff;\n    }\n  }\n};","map":{"version":3,"names":["moment","gantt","name","data","tasks","mounted","arr","initData","config","show_progress","open_tree_initially","indent","grid_width","percenToString","num","Math","floor","renderLabel","progress","type","state","relWidth","cssClass","templates","task_text","start","end","task","colorType","progress1","progress2","progress3","plugins","marker","tooltip","dateToStr","date","date_to_str","task_date","today","Date","addMarker","start_date","css","text","format","title","tooltip_text","planStart","planEnd","actualStart","actualEnd","scale_unit","step","date_scale","subscales","unit","scale_height","i18n","setLocale","autosize","readonly","show_grid","columns","label","width","align","tree","task_class","init","$refs","console","log","parse","ziji","document","querySelectorAll","methods","undapta","id","nbProjectId","projectVesselId","vesselNameCn","vesselNameEn","parentId","dispNo","scheduleNameCn","scheduleNameEn","scheduleBeginDate","scheduleEndDate","actualBeginDate","actualEndDate","stageCode","completedPercent","scheduleRemark","fileIds","businessCode","newArr","forEach","item","index","obj","getDate","push","minTime","abs","duration","parent","expandAllTasks","eachTask","open","Atime","Btime","Ctime","Dtime","timeArr","min","maxTime","max","difference","beginTime","dateBegin","dateEnd","dateDiff","getTime","dayDiff"],"sources":["src/components/Gantt/Gantetu.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"legend\">\r\n      <div class=\"legendBox\">\r\n        <div class=\"legendSml legendColor1\"></div>\r\n        <div>计划时间</div>\r\n      </div>\r\n      <div class=\"legendBox\">\r\n        <div class=\"legendSml legendColor2\"></div>\r\n        <div>相交时间</div>\r\n      </div>\r\n      <div class=\"legendBox\">\r\n        <div class=\"legendSml legendColor3\"></div>\r\n        <div>实际时间</div>\r\n      </div>\r\n    </div>\r\n    <button @click=\"undapta()\">更新数据</button>\r\n\r\n    <div ref=\"gantt\" class=\"left-container\" />\r\n  </div>\r\n</template>\r\n<script>\r\nimport moment from \"moment\"; // moment格式化时间\r\nimport gantt from \"dhtmlx-gantt\"; // 引入模块\r\nimport \"dhtmlx-gantt/codebase/dhtmlxgantt.css\"; //皮肤\r\n\r\nexport default {\r\n  name: \"gantt\",\r\n  data() {\r\n    return {\r\n      tasks: {\r\n        data: [],\r\n      },\r\n    };\r\n  },\r\n  mounted() {\r\n    let arr =  [\r\n    {\r\n        \"id\": \"7086894358414229504\",\r\n        \"nbProjectId\": \"7086894357860581376\",\r\n        \"projectVesselId\": \"7086894358300983296\",\r\n        \"vesselNameCn\": \"凯勇\",\r\n        \"vesselNameEn\": \"NEW VALOR\",\r\n        \"parentId\": \"0\",\r\n        \"dispNo\": 1,\r\n        \"scheduleNameCn\": \"签约\",\r\n        \"scheduleNameEn\": \"Sign\",\r\n        \"scheduleBeginDate\": \"2023-07-01\",\r\n        \"scheduleEndDate\": \"2024-01-24\",\r\n        \"actualBeginDate\": \"2023-07-05\",\r\n        \"actualEndDate\": null,\r\n        \"stageCode\": \"VESSEL_SCHEDULE_1\",\r\n        \"completedPercent\": 22,\r\n        \"scheduleRemark\": null,\r\n        \"fileIds\": null,\r\n        \"businessCode\": null\r\n    },\r\n    {\r\n        \"id\": \"7086894728481865728\",\r\n        \"nbProjectId\": \"7086894357860581376\",\r\n        \"projectVesselId\": \"7086894358300983296\",\r\n        \"vesselNameCn\": \"凯勇\",\r\n        \"vesselNameEn\": \"NEW VALOR\",\r\n        \"parentId\": \"7086894358414229504\",\r\n        \"dispNo\": null,\r\n        \"scheduleNameCn\": \"采购设备\",\r\n        \"scheduleNameEn\": \"caigoushebei\",\r\n        \"scheduleBeginDate\": \"2023-07-01\",\r\n        \"scheduleEndDate\": \"2024-01-24\",\r\n        \"actualBeginDate\": null,\r\n        \"actualEndDate\": null,\r\n        \"stageCode\": \"\",\r\n        \"completedPercent\": 13,\r\n        \"scheduleRemark\": \"\",\r\n        \"fileIds\": null,\r\n        \"businessCode\": null\r\n    },\r\n    {\r\n        \"id\": \"7088381175781130240\",\r\n        \"nbProjectId\": \"7086894357860581376\",\r\n        \"projectVesselId\": \"7086894358300983296\",\r\n        \"vesselNameCn\": \"凯勇\",\r\n        \"vesselNameEn\": \"NEW VALOR\",\r\n        \"parentId\": \"7086894358414229504\",\r\n        \"dispNo\": null,\r\n        \"scheduleNameCn\": \"审图\",\r\n        \"scheduleNameEn\": \"Plan Approval\",\r\n        \"scheduleBeginDate\": \"2023-07-05\",\r\n        \"scheduleEndDate\": \"2023-07-12\",\r\n        \"actualBeginDate\": \"2023-07-05\",\r\n        \"actualEndDate\": null,\r\n        \"stageCode\": \"\",\r\n        \"completedPercent\": 31,\r\n        \"scheduleRemark\": \"\",\r\n        \"fileIds\": null,\r\n        \"businessCode\": null\r\n    },\r\n    {\r\n        \"id\": \"7086894358431006720\",\r\n        \"nbProjectId\": \"7086894357860581376\",\r\n        \"projectVesselId\": \"7086894358300983296\",\r\n        \"vesselNameCn\": \"凯勇\",\r\n        \"vesselNameEn\": \"NEW VALOR\",\r\n        \"parentId\": \"0\",\r\n        \"dispNo\": 2,\r\n        \"scheduleNameCn\": \"开工\",\r\n        \"scheduleNameEn\": \"Start\",\r\n        \"scheduleBeginDate\": \"2023-09-15\",\r\n        \"scheduleEndDate\": \"2023-11-17\",\r\n        \"actualBeginDate\": \"2023-09-01\",\r\n        \"actualEndDate\": null,\r\n        \"stageCode\": \"VESSEL_SCHEDULE_2\",\r\n        \"completedPercent\": 6,\r\n        \"scheduleRemark\": null,\r\n        \"fileIds\": null,\r\n        \"businessCode\": null\r\n    },\r\n    {\r\n        \"id\": \"7088384223853150208\",\r\n        \"nbProjectId\": \"7086894357860581376\",\r\n        \"projectVesselId\": \"7086894358300983296\",\r\n        \"vesselNameCn\": \"凯勇\",\r\n        \"vesselNameEn\": \"NEW VALOR\",\r\n        \"parentId\": \"7086894358431006720\",\r\n        \"dispNo\": null,\r\n        \"scheduleNameCn\": \"钢板加工\",\r\n        \"scheduleNameEn\": \"Steel Fabrication\",\r\n        \"scheduleBeginDate\": \"2023-09-15\",\r\n        \"scheduleEndDate\": \"2023-11-17\",\r\n        \"actualBeginDate\": \"2023-09-01\",\r\n        \"actualEndDate\": null,\r\n        \"stageCode\": \"\",\r\n        \"completedPercent\": 6,\r\n        \"scheduleRemark\": \"\",\r\n        \"fileIds\": null,\r\n        \"businessCode\": null\r\n    },\r\n    {\r\n        \"id\": \"7088384248909922304\",\r\n        \"nbProjectId\": \"7086894357860581376\",\r\n        \"projectVesselId\": \"7086894358300983296\",\r\n        \"vesselNameCn\": \"凯勇\",\r\n        \"vesselNameEn\": \"NEW VALOR\",\r\n        \"parentId\": \"7086894358431006720\",\r\n        \"dispNo\": null,\r\n        \"scheduleNameCn\": \"钢板加工\",\r\n        \"scheduleNameEn\": \"Steel Fabrication\",\r\n        \"scheduleBeginDate\": \"2023-09-15\",\r\n        \"scheduleEndDate\": \"2023-11-17\",\r\n        \"actualBeginDate\": \"2023-09-01\",\r\n        \"actualEndDate\": null,\r\n        \"stageCode\": \"\",\r\n        \"completedPercent\": 6,\r\n        \"scheduleRemark\": \"\",\r\n        \"fileIds\": null,\r\n        \"businessCode\": null\r\n    },\r\n    {\r\n        \"id\": \"7086894358472949760\",\r\n        \"nbProjectId\": \"7086894357860581376\",\r\n        \"projectVesselId\": \"7086894358300983296\",\r\n        \"vesselNameCn\": \"凯勇\",\r\n        \"vesselNameEn\": \"NEW VALOR\",\r\n        \"parentId\": \"0\",\r\n        \"dispNo\": 3,\r\n        \"scheduleNameCn\": \"安放龙骨\",\r\n        \"scheduleNameEn\": \"Keel\",\r\n        \"scheduleBeginDate\": null,\r\n        \"scheduleEndDate\": null,\r\n        \"actualBeginDate\": null,\r\n        \"actualEndDate\": null,\r\n        \"stageCode\": \"VESSEL_SCHEDULE_3\",\r\n        \"completedPercent\": 0,\r\n        \"scheduleRemark\": null,\r\n        \"fileIds\": null,\r\n        \"businessCode\": null\r\n    },\r\n    {\r\n        \"id\": \"7086894358485532672\",\r\n        \"nbProjectId\": \"7086894357860581376\",\r\n        \"projectVesselId\": \"7086894358300983296\",\r\n        \"vesselNameCn\": \"凯勇\",\r\n        \"vesselNameEn\": \"NEW VALOR\",\r\n        \"parentId\": \"0\",\r\n        \"dispNo\": 4,\r\n        \"scheduleNameCn\": \"下水\",\r\n        \"scheduleNameEn\": \"Launch\",\r\n        \"scheduleBeginDate\": null,\r\n        \"scheduleEndDate\": null,\r\n        \"actualBeginDate\": null,\r\n        \"actualEndDate\": null,\r\n        \"stageCode\": \"VESSEL_SCHEDULE_4\",\r\n        \"completedPercent\": 0,\r\n        \"scheduleRemark\": null,\r\n        \"fileIds\": null,\r\n        \"businessCode\": null\r\n    },\r\n    {\r\n        \"id\": \"7086894358502309888\",\r\n        \"nbProjectId\": \"7086894357860581376\",\r\n        \"projectVesselId\": \"7086894358300983296\",\r\n        \"vesselNameCn\": \"凯勇\",\r\n        \"vesselNameEn\": \"NEW VALOR\",\r\n        \"parentId\": \"0\",\r\n        \"dispNo\": 5,\r\n        \"scheduleNameCn\": \"试航\",\r\n        \"scheduleNameEn\": \"Voyage\",\r\n        \"scheduleBeginDate\": null,\r\n        \"scheduleEndDate\": null,\r\n        \"actualBeginDate\": null,\r\n        \"actualEndDate\": null,\r\n        \"stageCode\": \"VESSEL_SCHEDULE_5\",\r\n        \"completedPercent\": 0,\r\n        \"scheduleRemark\": null,\r\n        \"fileIds\": null,\r\n        \"businessCode\": null\r\n    },\r\n    {\r\n        \"id\": \"7086894358544252928\",\r\n        \"nbProjectId\": \"7086894357860581376\",\r\n        \"projectVesselId\": \"7086894358300983296\",\r\n        \"vesselNameCn\": \"凯勇\",\r\n        \"vesselNameEn\": \"NEW VALOR\",\r\n        \"parentId\": \"0\",\r\n        \"dispNo\": 6,\r\n        \"scheduleNameCn\": \"交船\",\r\n        \"scheduleNameEn\": \"Delivery\",\r\n        \"scheduleBeginDate\": null,\r\n        \"scheduleEndDate\": null,\r\n        \"actualBeginDate\": null,\r\n        \"actualEndDate\": null,\r\n        \"stageCode\": \"VESSEL_SCHEDULE_6\",\r\n        \"completedPercent\": 0,\r\n        \"scheduleRemark\": null,\r\n        \"fileIds\": null,\r\n        \"businessCode\": null\r\n    }\r\n]\r\n    this.initData(arr);\r\n\r\n    gantt.config.show_progress = false;\r\n    gantt.config.open_tree_initially = true; //默认展开子级\r\n    // 设置左侧树子任务缩进和展开\r\n    gantt.config.indent = 30;\r\n    gantt.config.grid_width = 350;\r\n    gantt.config.open_tree_initially = true;\r\n    function percenToString(num) {\r\n      return Math.floor(num * 100) + \"%\";\r\n    }\r\n\r\n    // 设置每一部分的颜色\r\n    function renderLabel(progress, type, state) {\r\n      var relWidth = progress * 100;\r\n      var cssClass = \"custom_progress \";\r\n      if (type === 1) {\r\n        cssClass += \"nearly_done\";\r\n      } else if (type === 2) {\r\n        if (state) {\r\n          cssClass += \"in_progress\";\r\n        } else {\r\n          cssClass += \"in_progress_w\";\r\n        }\r\n      } else {\r\n        cssClass += \"idle\";\r\n      }\r\n      return (\r\n        \"<div class='\" +\r\n        cssClass +\r\n        \"' style='width:\" +\r\n        relWidth +\r\n        \"%'>\" +\r\n        \"</div>\"\r\n      );\r\n    }\r\n\r\n    // 根据定义类型判断颜色顺序\r\n    gantt.templates.task_text = function (start, end, task) {\r\n      let colorType = task.colorType;\r\n      if (colorType === \"j12\" || colorType === \"one\") {\r\n        return (\r\n          renderLabel(task.progress1, 1, task.state) +\r\n          renderLabel(task.progress2, 2, task.state) +\r\n          renderLabel(task.progress3, 3, task.state)\r\n        );\r\n      } else if (colorType === \"j21\") {\r\n        return (\r\n          renderLabel(task.progress1, 3, task.state) +\r\n          renderLabel(task.progress2, 2, task.state) +\r\n          renderLabel(task.progress3, 1, task.state)\r\n        );\r\n      } else if (colorType === \"b12\") {\r\n        return (\r\n          renderLabel(task.progress1, 1, task.state) +\r\n          renderLabel(task.progress2, 2, task.state) +\r\n          renderLabel(task.progress3, 1, task.state)\r\n        );\r\n      } else if (colorType === \"b21\") {\r\n        return (\r\n          renderLabel(task.progress1, 3, task.state) +\r\n          renderLabel(task.progress2, 2, task.state) +\r\n          renderLabel(task.progress3, 3, task.state)\r\n        );\r\n      } else if (colorType === \"l12\") {\r\n        return (\r\n          renderLabel(task.progress1, 1, task.state) +\r\n          renderLabel(task.progress2, 2, task.state) +\r\n          renderLabel(task.progress3, 3, task.state)\r\n        );\r\n      } else if (colorType === \"l21\") {\r\n        return (\r\n          renderLabel(task.progress1, 3, task.state) +\r\n          renderLabel(task.progress2, 2, task.state) +\r\n          renderLabel(task.progress3, 1, task.state)\r\n        );\r\n      } else {\r\n        return (\r\n          renderLabel(task.progress1, 1, task.state) +\r\n          renderLabel(task.progress2, 2, task.state) +\r\n          renderLabel(task.progress3, 3, task.state)\r\n        );\r\n      }\r\n    };\r\n    gantt.plugins({ marker: true, tooltip: true }); // 开启marker插件\r\n    var dateToStr = gantt.date.date_to_str(gantt.config.task_date);\r\n    var today = new Date();\r\n    // 添加固定时间线\r\n    gantt.addMarker({\r\n      start_date: today,\r\n      css: \"today\",\r\n      text: \"今日:\" + moment(new Date()).format(\"YYYY-MM-DD\"),\r\n      title: \"Today: \" + dateToStr(today),\r\n    });\r\n    // 提示框内容\r\n    gantt.templates.tooltip_text = function (start, end, task) {\r\n      return (\r\n        \"<b>任务内容:</b>\" +\r\n        task.text +\r\n        \"<br/><b>计划开始:</b> \" +\r\n        task.planStart +\r\n        \"<br/><b>计划结束:</b> \" +\r\n        task.planEnd +\r\n        \"<br/><b>实际开始:</b> \" +\r\n        task.actualStart +\r\n        \"<br/><b>实际结束:</b> \" +\r\n        task.actualEnd\r\n      );\r\n    };\r\n\r\n    gantt.config.scale_unit = \"year\";\r\n    gantt.config.step = 1;\r\n    gantt.config.date_scale = \"%Y\";\r\n    //当右侧不止显示年份时，可以添加展示月日，添加一个就加一行\r\n    gantt.config.subscales = [{ unit: \"month\", step: 1, date: \"%m\" }];\r\n    //甘特图右侧表头的高度\r\n    gantt.config.scale_height = 80;\r\n    //使用中文\r\n    gantt.i18n.setLocale(\"cn\");\r\n    //自适应甘特图的尺寸大小, 使得在不出现滚动条的情况下, 显示全部任务\r\n    gantt.config.autosize = true;\r\n    //只读模式\r\n    gantt.config.readonly = true;\r\n    //是否显示左侧树表格\r\n    gantt.config.show_grid = true;\r\n    //表格列设置\r\n    gantt.config.columns = [\r\n      {\r\n        name: \"text\",\r\n        label: \"任务内容\",\r\n        width: \"120\",\r\n        align: \"center\",\r\n        tree: true,\r\n      },\r\n      { name: \"planStart\", label: \"计划开始\", width: \"100\", align: \"center\" },\r\n      { name: \"planEnd\", label: \"计划结束\", width: \"100\", align: \"center\" },\r\n      { name: \"actualStart\", label: \"实际开始\", width: \"100\", align: \"center\" },\r\n      { name: \"actualEnd\", label: \"实际结束\", width: \"100\", align: \"center\" },\r\n    ];\r\n    //任务条上的文字大小 以及取消border自带样式\r\n    gantt.templates.task_class = function () {\r\n      return \"firstLevelTask\";\r\n    };\r\n    // 初始化\r\n    gantt.init(this.$refs.gantt);\r\n    // 数据解析\r\n    console.log(\"mounted\", this.tasks);\r\n    gantt.parse(this.tasks);\r\n    let ziji = document.querySelectorAll(\".gantt_cell\");\r\n    console.log(\"ziji\", ziji);\r\n  },\r\n  methods: {\r\n    undapta() {\r\n      let arr = [\r\n        {\r\n          id: \"7086894358414229504\",\r\n          nbProjectId: \"7086894357860581376\",\r\n          projectVesselId: \"7086894358300983296\",\r\n          vesselNameCn: \"凯勇\",\r\n          vesselNameEn: \"NEW VALOR\",\r\n          parentId: \"0\",\r\n          dispNo: 1,\r\n          scheduleNameCn: \"签约\",\r\n          scheduleNameEn: \"Sign\",\r\n          scheduleBeginDate: \"2023-07-01\",\r\n          scheduleEndDate: \"2024-01-24\",\r\n          actualBeginDate: \"202-07-05\",\r\n          actualEndDate: null,\r\n          stageCode: \"VESSEL_SCHEDULE_1\",\r\n          completedPercent: 22,\r\n          scheduleRemark: null,\r\n          fileIds: null,\r\n          businessCode: null,\r\n        },\r\n        {\r\n          id: \"7086894728481865728\",\r\n          nbProjectId: \"7086894357860581376\",\r\n          projectVesselId: \"7086894358300983296\",\r\n          vesselNameCn: \"凯勇\",\r\n          vesselNameEn: \"NEW VALOR\",\r\n          parentId: \"7086894358414229504\",\r\n          dispNo: null,\r\n          scheduleNameCn: \"采购设备\",\r\n          scheduleNameEn: \"caigoushebei\",\r\n          scheduleBeginDate: \"2023-07-01\",\r\n          scheduleEndDate: \"2024-01-24\",\r\n          actualBeginDate: null,\r\n          actualEndDate: null,\r\n          stageCode: \"\",\r\n          completedPercent: 13,\r\n          scheduleRemark: \"\",\r\n          fileIds: null,\r\n          businessCode: null,\r\n        },\r\n        {\r\n          id: \"7088381175781130240\",\r\n          nbProjectId: \"7086894357860581376\",\r\n          projectVesselId: \"7086894358300983296\",\r\n          vesselNameCn: \"凯勇\",\r\n          vesselNameEn: \"NEW VALOR\",\r\n          parentId: \"7086894358414229504\",\r\n          dispNo: null,\r\n          scheduleNameCn: \"审图\",\r\n          scheduleNameEn: \"Plan Approval\",\r\n          scheduleBeginDate: \"2023-07-05\",\r\n          scheduleEndDate: \"2023-07-12\",\r\n          actualBeginDate: \"2023-07-05\",\r\n          actualEndDate: null,\r\n          stageCode: \"\",\r\n          completedPercent: 31,\r\n          scheduleRemark: \"\",\r\n          fileIds: null,\r\n          businessCode: null,\r\n        },\r\n        {\r\n          id: \"7086894358431006720\",\r\n          nbProjectId: \"7086894357860581376\",\r\n          projectVesselId: \"7086894358300983296\",\r\n          vesselNameCn: \"凯勇\",\r\n          vesselNameEn: \"NEW VALOR\",\r\n          parentId: \"0\",\r\n          dispNo: 2,\r\n          scheduleNameCn: \"开工\",\r\n          scheduleNameEn: \"Start\",\r\n          scheduleBeginDate: \"2023-09-15\",\r\n          scheduleEndDate: \"2023-11-17\",\r\n          actualBeginDate: \"2023-09-01\",\r\n          actualEndDate: null,\r\n          stageCode: \"VESSEL_SCHEDULE_2\",\r\n          completedPercent: 6,\r\n          scheduleRemark: null,\r\n          fileIds: null,\r\n          businessCode: null,\r\n        },\r\n        {\r\n          id: \"7088384223853150208\",\r\n          nbProjectId: \"7086894357860581376\",\r\n          projectVesselId: \"7086894358300983296\",\r\n          vesselNameCn: \"凯勇\",\r\n          vesselNameEn: \"NEW VALOR\",\r\n          parentId: \"7086894358431006720\",\r\n          dispNo: null,\r\n          scheduleNameCn: \"钢板加工\",\r\n          scheduleNameEn: \"Steel Fabrication\",\r\n          scheduleBeginDate: \"2023-09-15\",\r\n          scheduleEndDate: \"2023-11-17\",\r\n          actualBeginDate: \"2023-09-01\",\r\n          actualEndDate: null,\r\n          stageCode: \"\",\r\n          completedPercent: 6,\r\n          scheduleRemark: \"\",\r\n          fileIds: null,\r\n          businessCode: null,\r\n        },\r\n        {\r\n          id: \"7088384248909922304\",\r\n          nbProjectId: \"7086894357860581376\",\r\n          projectVesselId: \"7086894358300983296\",\r\n          vesselNameCn: \"凯勇\",\r\n          vesselNameEn: \"NEW VALOR\",\r\n          parentId: \"7086894358431006720\",\r\n          dispNo: null,\r\n          scheduleNameCn: \"钢板加工\",\r\n          scheduleNameEn: \"Steel Fabrication\",\r\n          scheduleBeginDate: \"2023-09-15\",\r\n          scheduleEndDate: \"2023-11-17\",\r\n          actualBeginDate: \"2023-09-01\",\r\n          actualEndDate: null,\r\n          stageCode: \"\",\r\n          completedPercent: 6,\r\n          scheduleRemark: \"\",\r\n          fileIds: null,\r\n          businessCode: null,\r\n        },\r\n        {\r\n          id: \"7086894358472949760\",\r\n          nbProjectId: \"7086894357860581376\",\r\n          projectVesselId: \"7086894358300983296\",\r\n          vesselNameCn: \"凯勇\",\r\n          vesselNameEn: \"NEW VALOR\",\r\n          parentId: \"0\",\r\n          dispNo: 3,\r\n          scheduleNameCn: \"安放龙骨\",\r\n          scheduleNameEn: \"Keel\",\r\n          scheduleBeginDate: null,\r\n          scheduleEndDate: null,\r\n          actualBeginDate: null,\r\n          actualEndDate: null,\r\n          stageCode: \"VESSEL_SCHEDULE_3\",\r\n          completedPercent: 0,\r\n          scheduleRemark: null,\r\n          fileIds: null,\r\n          businessCode: null,\r\n        },\r\n        {\r\n          id: \"7086894358485532672\",\r\n          nbProjectId: \"7086894357860581376\",\r\n          projectVesselId: \"7086894358300983296\",\r\n          vesselNameCn: \"凯勇\",\r\n          vesselNameEn: \"NEW VALOR\",\r\n          parentId: \"0\",\r\n          dispNo: 4,\r\n          scheduleNameCn: \"下水\",\r\n          scheduleNameEn: \"Launch\",\r\n          scheduleBeginDate: null,\r\n          scheduleEndDate: null,\r\n          actualBeginDate: null,\r\n          actualEndDate: null,\r\n          stageCode: \"VESSEL_SCHEDULE_4\",\r\n          completedPercent: 0,\r\n          scheduleRemark: null,\r\n          fileIds: null,\r\n          businessCode: null,\r\n        },\r\n        {\r\n          id: \"7086894358502309888\",\r\n          nbProjectId: \"7086894357860581376\",\r\n          projectVesselId: \"7086894358300983296\",\r\n          vesselNameCn: \"凯勇\",\r\n          vesselNameEn: \"NEW VALOR\",\r\n          parentId: \"0\",\r\n          dispNo: 5,\r\n          scheduleNameCn: \"试航\",\r\n          scheduleNameEn: \"Voyage\",\r\n          scheduleBeginDate: null,\r\n          scheduleEndDate: null,\r\n          actualBeginDate: null,\r\n          actualEndDate: null,\r\n          stageCode: \"VESSEL_SCHEDULE_5\",\r\n          completedPercent: 0,\r\n          scheduleRemark: null,\r\n          fileIds: null,\r\n          businessCode: null,\r\n        },\r\n        {\r\n          id: \"7086894358544252928\",\r\n          nbProjectId: \"7086894357860581376\",\r\n          projectVesselId: \"7086894358300983296\",\r\n          vesselNameCn: \"凯勇\",\r\n          vesselNameEn: \"NEW VALOR\",\r\n          parentId: \"0\",\r\n          dispNo: 6,\r\n          scheduleNameCn: \"交船\",\r\n          scheduleNameEn: \"Delivery\",\r\n          scheduleBeginDate: null,\r\n          scheduleEndDate: null,\r\n          actualBeginDate: null,\r\n          actualEndDate: null,\r\n          stageCode: \"VESSEL_SCHEDULE_6\",\r\n          completedPercent: 0,\r\n          scheduleRemark: null,\r\n          fileIds: null,\r\n          businessCode: null,\r\n        },\r\n      ];\r\n\r\n      this.initData(arr);\r\n    },\r\n    initData(data) {\r\n      // 处理数据\r\n      let arr = data;\r\n      let newArr = [];\r\n      arr.forEach((item, index) => {\r\n        let obj = this.getDate(\r\n          item.scheduleBeginDate,\r\n          item.scheduleEndDate,\r\n          item.actualBeginDate,\r\n          item.actualEndDate\r\n        );\r\n        newArr.push({\r\n          id: item.id,\r\n          text: item.task,\r\n          start_date: new Date(moment(obj.minTime).format(\"YYYY-MM-DD\")),\r\n          progress1: Math.abs(obj.progress1),\r\n          progress2: Math.abs(obj.progress2),\r\n          progress3: Math.abs(obj.progress3),\r\n          duration: obj.duration,\r\n\r\n          planStart: item.planStart,\r\n          planEnd: item.planEnd,\r\n          actualStart: item.actualStart,\r\n          actualEnd: item.actualEnd,\r\n          state: obj.state,\r\n          colorType: obj.colorType,\r\n          parent: item.parent,\r\n        });\r\n      });\r\n      this.tasks.data = newArr;\r\n    },\r\n    expandAllTasks() {\r\n      gantt.eachTask((task) => {\r\n        gantt.open(task.id);\r\n      });\r\n    },\r\n    // 时间计算\r\n    getDate(Atime, Btime, Ctime, Dtime) {\r\n      let obj = {};\r\n      let arr = [Atime, Btime==\"\"?Atime:Btime, Ctime, Dtime==\"\"?Ctime:Dtime];\r\n      let timeArr = [];\r\n      arr.forEach((item) => {\r\n        timeArr.push(new Date(item));\r\n      });\r\n      let minTime = moment(Math.min(...timeArr)).format(\"MM-DD-YYYY\");\r\n      let maxTime = moment(Math.max(...timeArr)).format(\"YYYY-MM-DD\");\r\n      let duration = this.difference(minTime, maxTime);\r\n\r\n      let progress1 = 0;\r\n      let progress2 = 0;\r\n      let progress3 = 0;\r\n      let state = true;\r\n      let colorType = true;\r\n\r\n      if (Atime < Ctime && Ctime < Btime && Btime < Dtime) {\r\n        // console.log('12相交', index)\r\n        colorType = \"j12\";\r\n        progress2 = this.difference(Ctime, Btime) / duration;\r\n        progress1 = this.difference(Atime, Ctime) / duration;\r\n        progress3 = this.difference(Btime, Dtime) / duration;\r\n      } else if (\r\n        Btime > Ctime &&\r\n        Btime >= Dtime &&\r\n        Ctime >= Atime &&\r\n        Dtime > Atime\r\n      ) {\r\n        // console.log('1包含2', index)\r\n        colorType = \"b12\";\r\n        state = true;\r\n        progress2 = this.difference(Ctime, Dtime) / duration;\r\n        progress1 = this.difference(Atime, Ctime) / duration;\r\n        progress3 = this.difference(Dtime, Btime) / duration;\r\n      } else if (\r\n        Dtime >= Btime &&\r\n        Dtime > Atime &&\r\n        Atime >= Ctime &&\r\n        Btime > Ctime\r\n      ) {\r\n        // console.log('2包含1', index)\r\n        colorType = \"b21\";\r\n        state = true;\r\n        progress2 = this.difference(Atime, Btime) / duration;\r\n        progress1 = this.difference(Ctime, Atime) / duration;\r\n        progress3 = this.difference(Btime, Dtime) / duration;\r\n      } else if (Btime > Dtime && Dtime > Atime && Atime > Ctime) {\r\n        // console.log('21相交', index)\r\n        colorType = \"j21\";\r\n        state = true;\r\n        progress2 = this.difference(Atime, Dtime) / duration;\r\n        progress1 = this.difference(Ctime, Atime) / duration;\r\n        progress3 = this.difference(Dtime, Btime) / duration;\r\n      } else if (Btime < Ctime) {\r\n        // console.log('12相离')\r\n        colorType = \"l12\";\r\n        state = false;\r\n        progress2 = this.difference(Btime, Ctime) / duration;\r\n        progress1 = this.difference(Atime, Btime) / duration;\r\n        progress3 = this.difference(Ctime, Dtime) / duration;\r\n      } else if (Dtime < Atime) {\r\n        // console.log('21相离')\r\n        colorType = \"l21\";\r\n        state = false;\r\n        progress2 = this.difference(Dtime, Atime) / duration;\r\n        progress3 = this.difference(Atime, Btime) / duration;\r\n        progress1 = this.difference(Ctime, Dtime) / duration;\r\n      } else {\r\n        colorType = \"one\";\r\n        console.log(\"状态错误\");\r\n      }\r\n      obj = {\r\n        state: state,\r\n        minTime: minTime,\r\n        duration: duration * 1,\r\n        progress1: progress1 * 1,\r\n        progress2: progress2 * 1,\r\n        progress3: progress3 * 1,\r\n        colorType: colorType,\r\n      };\r\n      return obj;\r\n    },\r\n    difference(beginTime, Dtime) {\r\n      var dateBegin = new Date(beginTime);\r\n      var dateEnd = new Date(Dtime);\r\n      var dateDiff = dateEnd.getTime() - dateBegin.getTime(); //时间差的毫秒数\r\n      var dayDiff = Math.floor(dateDiff / (24 * 3600 * 1000)); //计算出相差天数\r\n      return dayDiff;\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\nhtml,\r\nbody {\r\n  height: 100%;\r\n  padding: 0px;\r\n  margin: 0px;\r\n  overflow: hidden;\r\n}\r\n\r\n.legend {\r\n  padding: 10px;\r\n  display: flex;\r\n\r\n  .legendBox {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-right: 20px;\r\n\r\n    .legendSml {\r\n      width: 30px;\r\n      height: 16px;\r\n      border-radius: 5px;\r\n      margin-right: 4px;\r\n    }\r\n\r\n    .legendColor1 {\r\n      background: #01aff4;\r\n    }\r\n    .legendColor2 {\r\n      background: #0169bd;\r\n    }\r\n    .legendColor3 {\r\n      background: rgb(1, 105, 189, 50%);\r\n    }\r\n  }\r\n}\r\n\r\n.gantt_task_content {\r\n  display: flex;\r\n}\r\n\r\n.gantt_task_line {\r\n  background: #fff;\r\n}\r\n\r\n.custom_progress {\r\n  display: inline-block;\r\n  vertical-align: top;\r\n  text-align: center;\r\n  height: 100%;\r\n}\r\n.nearly_done {\r\n  background-color: #01aff4 !important;\r\n}\r\n\r\n.in_progress {\r\n  background-color: #0169bd !important;\r\n}\r\n\r\n.in_progress_w {\r\n  background-color: #fff !important;\r\n}\r\n\r\n.idle {\r\n  background-color: rgb(1, 105, 189, 50%) !important;\r\n}\r\n.firstLevelTask {\r\n  border: none;\r\n}\r\n\r\n.secondLevelTask {\r\n  border: none;\r\n}\r\n\r\n.left-container {\r\n  height: 600px;\r\n}\r\n</style>\r\n\r\n"],"mappings":";AAsBA,OAAAA,MAAA;AACA,OAAAC,KAAA;AACA;;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,KAAA;QACAD,IAAA;MACA;IACA;EACA;EACAE,QAAA;IACA,IAAAC,GAAA,IACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA,GACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA,GACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA,GACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA,GACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA,GACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA,GACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA,GACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA,GACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA,GACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA,EACA;IACA,KAAAC,QAAA,CAAAD,GAAA;IAEAL,KAAA,CAAAO,MAAA,CAAAC,aAAA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CAC,SAAA;QACAC,gBAAA;QACAC,cAAA;QACAC,OAAA;QACAC,YAAA;MACA,GACA;QACAjB,EAAA;QACAC,WAAA;QACAC,eAAA;QACAC,YAAA;QACAC,YAAA;QACAC,QAAA;QACAC,MAAA;QACAC,cAAA;QACAC,cAAA;QACAC,iBAAA;QACAC,eAAA;QACAC,eAAA;QACAC,aAAA;QACAC,SAAA;QACAC,gBAAA;QACAC,cAAA;QACAC,OAAA;QACAC,YAAA;MACA,GACA;QACAjB,EAAA;QACAC,WAAA;QACAC,eAAA;QACAC,YAAA;QACAC,YAAA;QACAC,QAAA;QACAC,MAAA;QACAC,cAAA;QACAC,cAAA;QACAC,iBAAA;QACAC,eAAA;QACAC,eAAA;QACAC,aAAA;QACAC,SAAA;QACAC,gBAAA;QACAC,cAAA;QACAC,OAAA;QACAC,YAAA;MACA,GACA;QACAjB,EAAA;QACAC,WAAA;QACAC,eAAA;QACAC,YAAA;QACAC,YAAA;QACAC,QAAA;QACAC,MAAA;QACAC,cAAA;QACAC,cAAA;QACAC,iBAAA;QACAC,eAAA;QACAC,eAAA;QACAC,aAAA;QACAC,SAAA;QACAC,gBAAA;QACAC,cAAA;QACAC,OAAA;QACAC,YAAA;MACA,GACA;QACAjB,EAAA;QACAC,WAAA;QACAC,eAAA;QACAC,YAAA;QACAC,YAAA;QACAC,QAAA;QACAC,MAAA;QACAC,cAAA;QACAC,cAAA;QACAC,iBAAA;QACAC,eAAA;QACAC,eAAA;QACAC,aAAA;QACAC,SAAA;QACAC,gBAAA;QACAC,cAAA;QACAC,OAAA;QACAC,YAAA;MACA,GACA;QACAjB,EAAA;QACAC,WAAA;QACAC,eAAA;QACAC,YAAA;QACAC,YAAA;QACAC,QAAA;QACAC,MAAA;QACAC,cAAA;QACAC,cAAA;QACAC,iBAAA;QACAC,eAAA;QACAC,eAAA;QACAC,aAAA;QACAC,SAAA;QACAC,gBAAA;QACAC,cAAA;QACAC,OAAA;QACAC,YAAA;MACA,GACA;QACAjB,EAAA;QACAC,WAAA;QACAC,eAAA;QACAC,YAAA;QACAC,YAAA;QACAC,QAAA;QACAC,MAAA;QAC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"},"metadata":{},"sourceType":"module","externalDependencies":[]}