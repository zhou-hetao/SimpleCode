{"ast":null,"code":"import gantt from \"dhtmlx-gantt\"; // 引入模块\nimport \"dhtmlx-gantt/codebase/dhtmlxgantt.css\"; //皮肤\n\nexport default {\n  name: \"gantt\",\n  data() {\n    return {\n      tasks: {\n        data: []\n      }\n    };\n  },\n  mounted() {\n    this.initData();\n\n    //表格列设置\n    gantt.config.columns = [{\n      name: \"project_num\",\n      label: \"项目编码\",\n      width: 80,\n      align: \"center\"\n    }, {\n      name: \"project_type\",\n      label: \"项目类别\",\n      width: 80,\n      align: \"center\"\n    }, {\n      name: \"text\",\n      label: \"项目名称\",\n      width: 100,\n      align: \"center\"\n    } // { name: \"add\", label: \"\" }, // ➕icon列显示 点击弹出添加框 隐藏没有\n    ];\n\n    时间安排显示代码块;\n    gantt.config.scale_unit = \"year\"; //第一个时间尺度，即X轴的单位，包括：\"minute\", \"hour\", \"day\", \"week\", \"month\", \"year\"\n    gantt.config.step = 1;\n    gantt.config.date_scale = \"%Y\";\n    gantt.config.start_date = new Date(2020, 0, 1); // 0代表1月 11代表12月\n    gantt.config.end_date = new Date(2025, 11, 31); // 0代表1月 11代表12月\n    // gantt.config.subscales = [ //第二个时间尺度单位\n    //         { unit: \"day\", step: 1, date: \"%D\" }\n    //     ];复制代码\n    // 初始化\n    gantt.init(this.$refs.gantt);\n    // 数据解析\n    gantt.parse(this.tasks);\n  },\n  methods: {\n    initData() {\n      // 处理数据\n      let arr = [{\n        id: 1,\n        // 任务ID\n        project_num: \"p1\",\n        project_type: \"项目一\",\n        text: \"任务一\",\n        start_date: \"03-04-2020\",\n        // 日-月-年\n        type: \"project\",\n        render: \"split\",\n        parent: 0 //父任务ID  自己为父任务 ID为0\n      }, {\n        id: 2,\n        text: \"第一阶段\",\n        start_date: \"03-04-2020\",\n        //开始时间\n        end_date: \"03-12-2020\",\n        //结束时间\n        parent: 1\n      }, {\n        id: 3,\n        text: \"第二阶段\",\n        start_date: \"12-12-2020\",\n        end_date: \"12-12-2021\",\n        duration: 2,\n        parent: 1,\n        color: \"green\"\n      }, {\n        id: 4,\n        text: \"第三阶段\",\n        start_date: \"12-12-2022\",\n        end_date: \"12-12-2023\",\n        duration: 1,\n        parent: 1\n      }, {\n        id: 5,\n        project_num: \"p2\",\n        project_type: \"项目二\",\n        text: \"任务二\",\n        start_date: \"12-12-2024\",\n        type: \"project\",\n        render: \"split\",\n        parent: 0\n      }];\n      this.tasks.data = arr;\n    }\n  }\n};","map":{"version":3,"names":["gantt","name","data","tasks","mounted","initData","config","columns","label","width","align","时间安排显示代码块","scale_unit","step","date_scale","start_date","Date","end_date","init","$refs","parse","methods","arr","id","project_num","project_type","text","type","render","parent","duration","color"],"sources":["src/components/Gantt/Gantetu.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div ref=\"gantt\" class=\"left-container\" />\r\n  </div>\r\n</template>\r\n<script>\r\nimport gantt from \"dhtmlx-gantt\"; // 引入模块\r\nimport \"dhtmlx-gantt/codebase/dhtmlxgantt.css\"; //皮肤\r\n\r\nexport default {\r\n  name: \"gantt\",\r\n  data() {\r\n    return {\r\n      tasks: {\r\n        data: [],\r\n      },\r\n    };\r\n  },\r\n  mounted() {\r\n    this.initData();\r\n\r\n    //表格列设置\r\n    gantt.config.columns = [\r\n      { name: \"project_num\", label: \"项目编码\", width: 80, align: \"center\" },\r\n      { name: \"project_type\", label: \"项目类别\", width: 80, align: \"center\" },\r\n      { name: \"text\", label: \"项目名称\", width: 100, align: \"center\" }, // { name: \"add\", label: \"\" }, // ➕icon列显示 点击弹出添加框 隐藏没有\r\n    ];\r\n    时间安排显示代码块;\r\n    gantt.config.scale_unit = \"year\"; //第一个时间尺度，即X轴的单位，包括：\"minute\", \"hour\", \"day\", \"week\", \"month\", \"year\"\r\n    gantt.config.step = 1;\r\n    gantt.config.date_scale = \"%Y\";\r\n    gantt.config.start_date = new Date(2020, 0, 1); // 0代表1月 11代表12月\r\n    gantt.config.end_date = new Date(2025, 11, 31); // 0代表1月 11代表12月\r\n    // gantt.config.subscales = [ //第二个时间尺度单位\r\n    //         { unit: \"day\", step: 1, date: \"%D\" }\r\n    //     ];复制代码\r\n    // 初始化\r\n    gantt.init(this.$refs.gantt);\r\n    // 数据解析\r\n    gantt.parse(this.tasks);\r\n  },\r\n  methods: {\r\n    initData() {\r\n      // 处理数据\r\n      let arr = [\r\n        {\r\n          id: 1, // 任务ID\r\n          project_num: \"p1\",\r\n          project_type: \"项目一\",\r\n          text: \"任务一\",\r\n          start_date: \"03-04-2020\", // 日-月-年\r\n          type: \"project\",\r\n          render: \"split\",\r\n          parent: 0, //父任务ID  自己为父任务 ID为0\r\n        },\r\n        {\r\n          id: 2,\r\n          text: \"第一阶段\",\r\n          start_date: \"03-04-2020\", //开始时间\r\n          end_date: \"03-12-2020\", //结束时间\r\n          parent: 1,\r\n        },\r\n        {\r\n          id: 3,\r\n          text: \"第二阶段\",\r\n          start_date: \"12-12-2020\",\r\n          end_date: \"12-12-2021\",\r\n          duration: 2,\r\n          parent: 1,\r\n          color: \"green\",\r\n        },\r\n        {\r\n          id: 4,\r\n          text: \"第三阶段\",\r\n          start_date: \"12-12-2022\",\r\n          end_date: \"12-12-2023\",\r\n          duration: 1,\r\n          parent: 1,\r\n        },\r\n        {\r\n          id: 5,\r\n          project_num: \"p2\",\r\n          project_type: \"项目二\",\r\n          text: \"任务二\",\r\n          start_date: \"12-12-2024\",\r\n          type: \"project\",\r\n          render: \"split\",\r\n          parent: 0,\r\n        },\r\n      ];\r\n\r\n      this.tasks.data = arr\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\nhtml,\r\nbody {\r\n  height: 100%;\r\n  padding: 0px;\r\n  margin: 0px;\r\n  overflow: hidden;\r\n}\r\n\r\n.legend {\r\n  padding: 10px;\r\n  display: flex;\r\n\r\n  .legendBox {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-right: 20px;\r\n\r\n    .legendSml {\r\n      width: 30px;\r\n      height: 16px;\r\n      border-radius: 5px;\r\n      margin-right: 4px;\r\n    }\r\n\r\n    .legendColor1 {\r\n      background: #01aff4;\r\n    }\r\n    .legendColor2 {\r\n      background: #0169bd;\r\n    }\r\n    .legendColor3 {\r\n      background: rgb(1, 105, 189, 50%);\r\n    }\r\n  }\r\n}\r\n\r\n.gantt_task_content {\r\n  display: flex;\r\n}\r\n\r\n.gantt_task_line {\r\n  background: #fff;\r\n}\r\n\r\n.custom_progress {\r\n  display: inline-block;\r\n  vertical-align: top;\r\n  text-align: center;\r\n  height: 100%;\r\n}\r\n.nearly_done {\r\n  background-color: #01aff4 !important;\r\n}\r\n\r\n.in_progress {\r\n  background-color: #0169bd !important;\r\n}\r\n\r\n.in_progress_w {\r\n  background-color: #fff !important;\r\n}\r\n\r\n.idle {\r\n  background-color: rgb(1, 105, 189, 50%) !important;\r\n}\r\n.firstLevelTask {\r\n  border: none;\r\n}\r\n\r\n.secondLevelTask {\r\n  border: none;\r\n}\r\n\r\n.left-container {\r\n  height: 600px;\r\n}\r\n</style>\r\n"],"mappings":"AAMA,OAAAA,KAAA;AACA;;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,KAAA;QACAD,IAAA;MACA;IACA;EACA;EACAE,QAAA;IACA,KAAAC,QAAA;;IAEA;IACAL,KAAA,CAAAM,MAAA,CAAAC,OAAA,IACA;MAAAN,IAAA;MAAAO,KAAA;MAAAC,KAAA;MAAAC,KAAA;IAAA,GACA;MAAAT,IAAA;MAAAO,KAAA;MAAAC,KAAA;MAAAC,KAAA;IAAA,GACA;MAAAT,IAAA;MAAAO,KAAA;MAAAC,KAAA;MAAAC,KAAA;IAAA;IAAA,CACA;;IACAC,SAAA;IACAX,KAAA,CAAAM,MAAA,CAAAM,UAAA;IACAZ,KAAA,CAAAM,MAAA,CAAAO,IAAA;IACAb,KAAA,CAAAM,MAAA,CAAAQ,UAAA;IACAd,KAAA,CAAAM,MAAA,CAAAS,UAAA,OAAAC,IAAA;IACAhB,KAAA,CAAAM,MAAA,CAAAW,QAAA,OAAAD,IAAA;IACA;IACA;IACA;IACA;IACAhB,KAAA,CAAAkB,IAAA,MAAAC,KAAA,CAAAnB,KAAA;IACA;IACAA,KAAA,CAAAoB,KAAA,MAAAjB,KAAA;EACA;EACAkB,OAAA;IACAhB,SAAA;MACA;MACA,IAAAiB,GAAA,IACA;QACAC,EAAA;QAAA;QACAC,WAAA;QACAC,YAAA;QACAC,IAAA;QACAX,UAAA;QAAA;QACAY,IAAA;QACAC,MAAA;QACAC,MAAA;MACA,GACA;QACAN,EAAA;QACAG,IAAA;QACAX,UAAA;QAAA;QACAE,QAAA;QAAA;QACAY,MAAA;MACA,GACA;QACAN,EAAA;QACAG,IAAA;QACAX,UAAA;QACAE,QAAA;QACAa,QAAA;QACAD,MAAA;QACAE,KAAA;MACA,GACA;QACAR,EAAA;QACAG,IAAA;QACAX,UAAA;QACAE,QAAA;QACAa,QAAA;QACAD,MAAA;MACA,GACA;QACAN,EAAA;QACAC,WAAA;QACAC,YAAA;QACAC,IAAA;QACAX,UAAA;QACAY,IAAA;QACAC,MAAA;QACAC,MAAA;MACA,EACA;MAEA,KAAA1B,KAAA,CAAAD,IAAA,GAAAoB,GAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}