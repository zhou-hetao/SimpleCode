{"ast":null,"code":"import \"dhtmlx-gantt\";\nimport \"dhtmlx-gantt/codebase/skins/dhtmlxgantt_material.css\";\nexport default {\n  data() {\n    return {\n      gantt: null\n    };\n  },\n  mounted() {\n    this.initGantt();\n  },\n  methods: {\n    initGantt() {\n      this.gantt = gantt.init(this.$refs.ganttContainer);\n      this.gantt.templates.task_class = this.customTaskClass;\n      this.gantt.templates.task_text = this.customTaskText;\n      this.gantt.config.columns = [{\n        name: \"text\",\n        label: \"任务名称\",\n        tree: true,\n        width: \"*\"\n      }, {\n        name: \"start_date\",\n        label: \"开始时间\",\n        width: 80\n      }, {\n        name: \"end_date\",\n        label: \"结束时间\",\n        width: 80\n      }];\n      // 自定义任务样式\n      this.gantt.templates.rightside_text = this.customRightSideText;\n      this.gantt.templates.rightside_text_class = this.customRightSideTextClass;\n\n      // 加载任务数据\n      this.gantt.parse({\n        data: [{\n          id: 1,\n          text: \"任务1\",\n          start_date: \"2023-06-01\",\n          end_date: \"2023-06-10\",\n          actual_start_date: \"2023-06-02\",\n          actual_end_date: \"2023-06-08\"\n        }\n        // 其他任务...\n        ]\n      });\n    },\n\n    customTaskClass(task) {\n      // 自定义任务样式类名\n      return \"custom-task\";\n    },\n    customTaskText(start, end, task) {\n      // 自定义任务名称显示\n      return task.text;\n    },\n    customRightSideText(start, end, task) {\n      // 自定义右侧渲染的时间进度条\n      return `\n        <div class=\"progress-bar\">\n            <div class=\"planned-progress\" style=\"width:${task.planned_progress}%\"></div>\n            <div class=\"actual-progress\" style=\"width:${task.actual_progress}%\"></div>\n        </div>`;\n    },\n    customRightSideTextClass(start, end, task) {\n      return \"\";\n    }\n  }\n};","map":{"version":3,"names":["data","gantt","mounted","initGantt","methods","init","$refs","ganttContainer","templates","task_class","customTaskClass","task_text","customTaskText","config","columns","name","label","tree","width","rightside_text","customRightSideText","rightside_text_class","customRightSideTextClass","parse","id","text","start_date","end_date","actual_start_date","actual_end_date","task","start","end","planned_progress","actual_progress"],"sources":["src/components/Gantt/Gantetu.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div ref=\"ganttContainer\" style=\"width:100%; height:100%\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport \"dhtmlx-gantt\";\r\nimport \"dhtmlx-gantt/codebase/skins/dhtmlxgantt_material.css\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      gantt: null\r\n    };\r\n  },\r\n  mounted() {\r\n    this.initGantt();\r\n  },\r\n  methods: {\r\n    initGantt() {\r\n      this.gantt = gantt.init(this.$refs.ganttContainer);\r\n      this.gantt.templates.task_class = this.customTaskClass;\r\n      this.gantt.templates.task_text = this.customTaskText;\r\n      this.gantt.config.columns = [\r\n        { name: \"text\", label: \"任务名称\", tree: true, width: \"*\" },\r\n        { name: \"start_date\", label: \"开始时间\", width: 80 },\r\n        { name: \"end_date\", label: \"结束时间\", width: 80 }\r\n      ];\r\n      // 自定义任务样式\r\n      this.gantt.templates.rightside_text = this.customRightSideText;\r\n      this.gantt.templates.rightside_text_class = this.customRightSideTextClass;\r\n\r\n      // 加载任务数据\r\n      this.gantt.parse({\r\n        data: [\r\n          {\r\n            id: 1,\r\n            text: \"任务1\",\r\n            start_date: \"2023-06-01\",\r\n            end_date: \"2023-06-10\",\r\n            actual_start_date: \"2023-06-02\",\r\n            actual_end_date: \"2023-06-08\"\r\n          },\r\n          // 其他任务...\r\n        ]\r\n      });\r\n    },\r\n    customTaskClass(task) {\r\n      // 自定义任务样式类名\r\n      return \"custom-task\";\r\n    },\r\n    customTaskText(start, end, task) {\r\n      // 自定义任务名称显示\r\n      return task.text;\r\n    },\r\n    customRightSideText(start, end, task) {\r\n      // 自定义右侧渲染的时间进度条\r\n      return `\r\n        <div class=\"progress-bar\">\r\n            <div class=\"planned-progress\" style=\"width:${task.planned_progress}%\"></div>\r\n            <div class=\"actual-progress\" style=\"width:${task.actual_progress}%\"></div>\r\n        </div>`;\r\n    },\r\n    customRightSideTextClass(start, end, task) {\r\n      return \"\";\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.custom-task .gantt_task_line {\r\n  border: none;\r\n}\r\n\r\n.progress-bar {\r\n  position: relative;\r\n  height: 20px;\r\n  margin-top: 5px;\r\n}\r\n\r\n.progress-bar div {\r\n  position: absolute;\r\n  height: 100%;\r\n}\r\n\r\n.planned-progress {\r\n  background-color: #0094ff;\r\n}\r\n\r\n.actual-progress {\r\n  background-color: #00c853;\r\n}\r\n</style>"],"mappings":"AAOA;AACA;AAEA;EACAA,KAAA;IACA;MACAC,KAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,SAAA;EACA;EACAC,OAAA;IACAD,UAAA;MACA,KAAAF,KAAA,GAAAA,KAAA,CAAAI,IAAA,MAAAC,KAAA,CAAAC,cAAA;MACA,KAAAN,KAAA,CAAAO,SAAA,CAAAC,UAAA,QAAAC,eAAA;MACA,KAAAT,KAAA,CAAAO,SAAA,CAAAG,SAAA,QAAAC,cAAA;MACA,KAAAX,KAAA,CAAAY,MAAA,CAAAC,OAAA,IACA;QAAAC,IAAA;QAAAC,KAAA;QAAAC,IAAA;QAAAC,KAAA;MAAA,GACA;QAAAH,IAAA;QAAAC,KAAA;QAAAE,KAAA;MAAA,GACA;QAAAH,IAAA;QAAAC,KAAA;QAAAE,KAAA;MAAA,EACA;MACA;MACA,KAAAjB,KAAA,CAAAO,SAAA,CAAAW,cAAA,QAAAC,mBAAA;MACA,KAAAnB,KAAA,CAAAO,SAAA,CAAAa,oBAAA,QAAAC,wBAAA;;MAEA;MACA,KAAArB,KAAA,CAAAsB,KAAA;QACAvB,IAAA,GACA;UACAwB,EAAA;UACAC,IAAA;UACAC,UAAA;UACAC,QAAA;UACAC,iBAAA;UACAC,eAAA;QACA;QACA;QAAA;MAEA;IACA;;IACAnB,gBAAAoB,IAAA;MACA;MACA;IACA;IACAlB,eAAAmB,KAAA,EAAAC,GAAA,EAAAF,IAAA;MACA;MACA,OAAAA,IAAA,CAAAL,IAAA;IACA;IACAL,oBAAAW,KAAA,EAAAC,GAAA,EAAAF,IAAA;MACA;MACA;AACA;AACA,yDAAAA,IAAA,CAAAG,gBAAA;AACA,wDAAAH,IAAA,CAAAI,eAAA;AACA;IACA;IACAZ,yBAAAS,KAAA,EAAAC,GAAA,EAAAF,IAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}