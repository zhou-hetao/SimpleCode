{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport GanttElastic from \"gantt-elastic\";\nimport GanttHeader from \"gantt-elastic-header\";\nimport dayjs from \"dayjs\";\nimport staks from \"./tasks\";\n// just helper to get current dates\n\nexport default {\n  name: \"Gantt\",\n  components: {\n    GanttElastic,\n    GanttHeader\n  },\n  data() {\n    return {\n      tasks: staks,\n      options: {\n        timeAxis: {\n          scale: 'year' // 将右侧时间轴显示为“年”\n        },\n\n        header: {\n          time: {\n            unit: 'year' // 将头部显示为年份\n          }\n        },\n\n        list: {\n          scale: 'month',\n          // 将列表项显示为月份\n          defaultExpanded: []\n        },\n        locale: {\n          name: \"zh\",\n          Now: \"Now\",\n          year: \"2023\",\n          // weekdays:[\"月\",\"月\",\"月\",\"月\",\"月\",\"月\",\"月\"],\n          months: ['一月', '二月', '三月', '四月', '五月', '六月', '七月', '八月', '九月', '十月', '十一月', '十二月'],\n          weekdays: ['周日', '周一', '周二', '周三', '周四', '周五', '周六'],\n          week: '周',\n          today: '今天'\n        },\n        taskMapping: {\n          progress: \"percent\"\n        },\n        maxRows: 100,\n        maxHeight: 500,\n        title: {\n          label: \"业务子系统\",\n          html: false\n        },\n        row: {\n          height: 25\n        },\n        calendar: {\n          hour: {\n            display: false\n          }\n        },\n        chart: {\n          progress: {\n            bar: false\n          },\n          expander: {\n            display: true\n          }\n        },\n        taskList: {\n          expander: {\n            straight: false\n          },\n          columns: [{\n            id: 1,\n            label: \"ID\",\n            value: \"id\",\n            width: 40\n          }, {\n            id: 2,\n            label: \"里程碑名称\",\n            value: \"label\",\n            width: 200,\n            expander: true,\n            html: true,\n            events: {\n              click({\n                data,\n                column\n              }) {\n                this.tasks.push({\n                  id: 3,\n                  label: \"新增节点\",\n                  status: '进行中',\n                  parentId: data.id,\n                  start: 1686240000000,\n                  endTime: 1687536000000,\n                  duration: 2 * 24 * 60 * 60 * 1000,\n                  percent: 100,\n                  type: \"task\"\n                });\n                this.tasksUpdate(staks);\n                console.log(this.tasks);\n              }\n            }\n          }, {\n            id: 3,\n            label: \"里程碑状态\",\n            value: \"status\",\n            width: 130,\n            html: true\n          }\n          //   {\n          //       id: 5,\n          //       label: \"%\",\n          //       value: \"progress\",\n          //       width: 35,\n          //       style: {\n          //           \"task-list-header-label\": {\n          //               \"text-align\": \"center\",\n          //               width: \"100%\"\n          //           },\n          //           \"task-list-item-value-container\": {\n          //               \"text-align\": \"center\",\n          //               width: \"100%\"\n          //           }\n          //       }\n          //   }\n          ]\n        }\n      },\n\n      dynamicStyle: {},\n      lastId: 16,\n      svglist: []\n    };\n  },\n  methods: {\n    addTask() {\n      this.tasks.push({\n        id: this.lastId++,\n        label: '<a href=\"https://images.pexels.com/photos/423364/pexels-photo-423364.jpeg?auto=compress&cs=tinysrgb&h=650&w=940\" target=\"_blank\" style=\"color:#0077c0;\">Yeaahh! you have added a task bro!</a>',\n        status: '<a href=\"https://images.pexels.com/photos/423364/pexels-photo-423364.jpeg?auto=compress&cs=tinysrgb&h=650&w=940\" target=\"_blank\" style=\"color:#0077c0;\">Awesome!</a>',\n        start: getDate(24 * 3),\n        duration: 1 * 24 * 60 * 60 * 1000,\n        percent: 50,\n        type: \"project\"\n      });\n    },\n    tasksUpdate(tasks) {\n      this.tasks = tasks;\n    },\n    optionsUpdate(options) {\n      this.options = options;\n    },\n    styleUpdate(style) {\n      this.dynamicStyle = style;\n    }\n  },\n  mounted() {\n    let svg = document.querySelectorAll('.gantt-elastic__task-list-expander-content');\n    this.svglist = [...svg];\n    this.svglist.map((item, index) => {\n      item.style.display = 'none';\n    });\n  }\n};","map":{"version":3,"names":["GanttElastic","GanttHeader","dayjs","staks","name","components","data","tasks","options","timeAxis","scale","header","time","unit","list","defaultExpanded","locale","Now","year","months","weekdays","week","today","taskMapping","progress","maxRows","maxHeight","title","label","html","row","height","calendar","hour","display","chart","bar","expander","taskList","straight","columns","id","value","width","events","click","column","push","status","parentId","start","endTime","duration","percent","type","tasksUpdate","console","log","dynamicStyle","lastId","svglist","methods","addTask","getDate","optionsUpdate","styleUpdate","style","mounted","svg","document","querySelectorAll","map","item","index"],"sources":["src/views/User/User.vue"],"sourcesContent":["<template>\r\n   <q-page class=\"q-pa-sm\">\r\n      <gantt-elastic :options=\"options\" :tasks=\"tasks\" @tasks-changed=\"tasksUpdate\" @options-changed=\"optionsUpdate\"\r\n         @dynamic-style-changed=\"styleUpdate\">\r\n         <!-- <gantt-header slot=\"header\"></gantt-header> -->\r\n      </gantt-elastic>\r\n      <div class=\"q-mt-md\"></div>\r\n      <q-btn @click=\"addTask\" icon=\"mdi-plus\" label=\"Add task\" />\r\n   </q-page>\r\n</template>\r\n\r\n<style></style>\r\n\r\n<script>\r\nimport GanttElastic from \"gantt-elastic\";\r\nimport GanttHeader from \"gantt-elastic-header\";\r\nimport dayjs from \"dayjs\";\r\nimport staks from \"./tasks\"\r\n// just helper to get current dates\r\n\r\nexport default {\r\n   name: \"Gantt\",\r\n   components: {\r\n      GanttElastic,\r\n      GanttHeader\r\n   },\r\n   data() {\r\n      return {\r\n         tasks: staks,\r\n         options: {\r\n            timeAxis: {\r\n               scale: 'year', // 将右侧时间轴显示为“年”\r\n            },\r\n            header: {\r\n               time: {\r\n                  unit: 'year', // 将头部显示为年份\r\n               },\r\n            },\r\n            list: {\r\n               scale: 'month', // 将列表项显示为月份\r\n               defaultExpanded: [],\r\n            },\r\n            locale: {\r\n               name: \"zh\",\r\n               Now: \"Now\",\r\n               year: \"2023\",\r\n               // weekdays:[\"月\",\"月\",\"月\",\"月\",\"月\",\"月\",\"月\"],\r\n               months: ['一月', '二月', '三月', '四月', '五月', '六月', '七月', '八月', '九月', '十月', '十一月', '十二月',],\r\n               weekdays: ['周日', '周一', '周二', '周三', '周四', '周五', '周六'],\r\n               week: '周',\r\n               today: '今天',\r\n            },\r\n            taskMapping: {\r\n               progress: \"percent\"\r\n            },\r\n            maxRows: 100,\r\n            maxHeight: 500,\r\n            title: {\r\n               label: \"业务子系统\",\r\n               html: false\r\n            },\r\n            row: {\r\n               height: 25\r\n            },\r\n            calendar: {\r\n               hour: {\r\n                  display: false\r\n               }\r\n            },\r\n            chart: {\r\n               progress: {\r\n                  bar: false\r\n               },\r\n               expander: {\r\n                  display: true\r\n               }\r\n            },\r\n            taskList: {\r\n               expander: {\r\n                  straight: false\r\n               },\r\n               columns: [\r\n                  {\r\n                     id: 1,\r\n                     label: \"ID\",\r\n                     value: \"id\",\r\n                     width: 40\r\n                  },\r\n                  {\r\n                     id: 2,\r\n                     label: \"里程碑名称\",\r\n                     value: \"label\",\r\n                     width: 200,\r\n                     expander: true,\r\n                     html: true,\r\n                     events: {\r\n                        click({ data, column }) {\r\n                           this.tasks.push({\r\n                              id: 3,\r\n                              label: \"新增节点\",\r\n                              status:\r\n                                 '进行中',\r\n                              parentId: data.id,\r\n                              start: 1686240000000,\r\n                              endTime: 1687536000000,\r\n                              duration: 2 * 24 * 60 * 60 * 1000,\r\n                              percent: 100,\r\n                              type: \"task\"\r\n                           },)\r\n                           this.tasksUpdate(staks)\r\n                           console.log(this.tasks);\r\n                        }\r\n                     }\r\n                  },\r\n                  {\r\n                     id: 3,\r\n                     label: \"里程碑状态\",\r\n                     value: \"status\",\r\n                     width: 130,\r\n                     html: true\r\n                  },\r\n                  //   {\r\n                  //       id: 5,\r\n                  //       label: \"%\",\r\n                  //       value: \"progress\",\r\n                  //       width: 35,\r\n                  //       style: {\r\n                  //           \"task-list-header-label\": {\r\n                  //               \"text-align\": \"center\",\r\n                  //               width: \"100%\"\r\n                  //           },\r\n                  //           \"task-list-item-value-container\": {\r\n                  //               \"text-align\": \"center\",\r\n                  //               width: \"100%\"\r\n                  //           }\r\n                  //       }\r\n                  //   }\r\n               ]\r\n            },\r\n\r\n\r\n         },\r\n         dynamicStyle: {},\r\n         lastId: 16,\r\n         svglist: []\r\n      };\r\n   },\r\n   methods: {\r\n      addTask() {\r\n         this.tasks.push({\r\n            id: this.lastId++,\r\n            label:\r\n               '<a href=\"https://images.pexels.com/photos/423364/pexels-photo-423364.jpeg?auto=compress&cs=tinysrgb&h=650&w=940\" target=\"_blank\" style=\"color:#0077c0;\">Yeaahh! you have added a task bro!</a>',\r\n            status:\r\n               '<a href=\"https://images.pexels.com/photos/423364/pexels-photo-423364.jpeg?auto=compress&cs=tinysrgb&h=650&w=940\" target=\"_blank\" style=\"color:#0077c0;\">Awesome!</a>',\r\n            start: getDate(24 * 3),\r\n            duration: 1 * 24 * 60 * 60 * 1000,\r\n            percent: 50,\r\n            type: \"project\"\r\n         });\r\n      },\r\n      tasksUpdate(tasks) {\r\n         this.tasks = tasks;\r\n      },\r\n      optionsUpdate(options) {\r\n         this.options = options;\r\n      },\r\n      styleUpdate(style) {\r\n         this.dynamicStyle = style;\r\n      }\r\n   },\r\n   mounted() {\r\n      let svg = document.querySelectorAll('.gantt-elastic__task-list-expander-content');\r\n      this.svglist = [...svg]\r\n      this.svglist.map((item, index) => {\r\n         item.style.display = 'none'\r\n      })\r\n   }\r\n};\r\n</script>"],"mappings":";AAcA,OAAAA,YAAA;AACA,OAAAC,WAAA;AACA,OAAAC,KAAA;AACA,OAAAC,KAAA;AACA;;AAEA;EACAC,IAAA;EACAC,UAAA;IACAL,YAAA;IACAC;EACA;EACAK,KAAA;IACA;MACAC,KAAA,EAAAJ,KAAA;MACAK,OAAA;QACAC,QAAA;UACAC,KAAA;QACA;;QACAC,MAAA;UACAC,IAAA;YACAC,IAAA;UACA;QACA;;QACAC,IAAA;UACAJ,KAAA;UAAA;UACAK,eAAA;QACA;QACAC,MAAA;UACAZ,IAAA;UACAa,GAAA;UACAC,IAAA;UACA;UACAC,MAAA;UACAC,QAAA;UACAC,IAAA;UACAC,KAAA;QACA;QACAC,WAAA;UACAC,QAAA;QACA;QACAC,OAAA;QACAC,SAAA;QACAC,KAAA;UACAC,KAAA;UACAC,IAAA;QACA;QACAC,GAAA;UACAC,MAAA;QACA;QACAC,QAAA;UACAC,IAAA;YACAC,OAAA;UACA;QACA;QACAC,KAAA;UACAX,QAAA;YACAY,GAAA;UACA;UACAC,QAAA;YACAH,OAAA;UACA;QACA;QACAI,QAAA;UACAD,QAAA;YACAE,QAAA;UACA;UACAC,OAAA,GACA;YACAC,EAAA;YACAb,KAAA;YACAc,KAAA;YACAC,KAAA;UACA,GACA;YACAF,EAAA;YACAb,KAAA;YACAc,KAAA;YACAC,KAAA;YACAN,QAAA;YACAR,IAAA;YACAe,MAAA;cACAC,MAAA;gBAAAvC,IAAA;gBAAAwC;cAAA;gBACA,KAAAvC,KAAA,CAAAwC,IAAA;kBACAN,EAAA;kBACAb,KAAA;kBACAoB,MAAA,EACA;kBACAC,QAAA,EAAA3C,IAAA,CAAAmC,EAAA;kBACAS,KAAA;kBACAC,OAAA;kBACAC,QAAA;kBACAC,OAAA;kBACAC,IAAA;gBACA;gBACA,KAAAC,WAAA,CAAApD,KAAA;gBACAqD,OAAA,CAAAC,GAAA,MAAAlD,KAAA;cACA;YACA;UACA,GACA;YACAkC,EAAA;YACAb,KAAA;YACAc,KAAA;YACAC,KAAA;YACAd,IAAA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UAAA;QAEA;MAGA;;MACA6B,YAAA;MACAC,MAAA;MACAC,OAAA;IACA;EACA;EACAC,OAAA;IACAC,QAAA;MACA,KAAAvD,KAAA,CAAAwC,IAAA;QACAN,EAAA,OAAAkB,MAAA;QACA/B,KAAA,EACA;QACAoB,MAAA,EACA;QACAE,KAAA,EAAAa,OAAA;QACAX,QAAA;QACAC,OAAA;QACAC,IAAA;MACA;IACA;IACAC,YAAAhD,KAAA;MACA,KAAAA,KAAA,GAAAA,KAAA;IACA;IACAyD,cAAAxD,OAAA;MACA,KAAAA,OAAA,GAAAA,OAAA;IACA;IACAyD,YAAAC,KAAA;MACA,KAAAR,YAAA,GAAAQ,KAAA;IACA;EACA;EACAC,QAAA;IACA,IAAAC,GAAA,GAAAC,QAAA,CAAAC,gBAAA;IACA,KAAAV,OAAA,OAAAQ,GAAA;IACA,KAAAR,OAAA,CAAAW,GAAA,EAAAC,IAAA,EAAAC,KAAA;MACAD,IAAA,CAAAN,KAAA,CAAAhC,OAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}